/*! For license information please see main.4028139a.chunk.js.LICENSE.txt */
(this["webpackJsonpdesk-booking-app"]=this["webpackJsonpdesk-booking-app"]||[]).push([[0],{449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},701:function(e,t,a){},702:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),i=a.n(s),o=(a(449),a(450),a(451),a(770)),l=a(802),c=a(808),d=a(204),p=a(798),j=a(799),x=a(814),m=a(123),h=a.n(m),u=a(148),b=a.n(u),g=a.p+"static/media/deskbookIng.31a21337.png",O=a(18),f=a(201),y=a.n(f);var v=new class{constructor(){this.instance=y.a.create(),this.instance.interceptors.response.use((e=>e),(async function(e){const t=e.config;if(401===e.response.status&&!t._retry)return t._retry=!0,y.a.get("/profile/token/refresh",{headers:{Authorization:`Bearer ${sessionStorage.getItem("refresh_token")}`}}).then((e=>{if(200===e.status)return sessionStorage.setItem("token",e.data.access_token),sessionStorage.setItem("refresh_token",e.data.refresh_token),t.headers.Authorization=`Bearer ${sessionStorage.getItem("token")}`,y()(t)}))})),this.instance.interceptors.request.use((e=>("/login"!==e.url&&"/register"!==e.url&&"/reset"!==e.url&&(e.headers.Authorization=`Bearer ${sessionStorage.getItem("token")}`),e)))}}({}).instance;var S=a(1);const w={transitionStyle:{transitionDelay:"300ms"},paperStyle:{width:"42vh",height:"460px",minWidth:"200px",minHeight:"230px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"2%"},formTitleStyle:{textAlign:"start",fontWeight:"bold"},formSubtitleStyle:{textAlign:"start"},buttonStyle:{marginTop:"5%"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"4%"},appLogoStyleBox:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"4%"},signInButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"17px","&:hover":{textDecoration:"underline"}},resetButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"9px","&:hover":{textDecoration:"underline"}}};var k=e=>{const[t,a]=Object(n.useState)({username:"",password:""}),[r,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[u,f]=Object(n.useState)(""),y=Object(O.g)(),k=Object(n.useCallback)((e=>{13===e.keyCode&&C()}),[t]);Object(n.useEffect)((()=>(window.addEventListener("keypress",k),()=>{window.removeEventListener("keypress",k)})),[k]);const C=()=>{s(""),m("");const a=W(t.username);if(a.err)m(a.errMsg);else{const a=T(t.password);a.err?s(a.errMsg):async function(e,t){var a=new FormData;a.append("username",e),a.append("password",t);try{const e=await v.post("/login",a),{data:t}=e;if(void 0!==t.access_token&&void 0!==t.refresh_token)return sessionStorage.setItem("token",t.access_token),sessionStorage.setItem("refresh_token",t.refresh_token),Promise.resolve(t);throw new Error("LOGIN ERROR")}catch(u){return Promise.reject(`${u.message}: Wrong username or password`)}}(t.username,t.password).then((t=>{e.logIn(t)})).catch((e=>{f(e)}))}},T=e=>e.length<4?{err:!0,errMsg:"Password must be at least 4 characters long!"}:{err:!1,errMsg:""},W=e=>0===e.length?{err:!0,errMsg:"Enter your username!"}:{err:!1,errMsg:""};return Object(S.jsx)(o.a,{style:w.transitionStyle,in:!0,appear:!0,children:Object(S.jsxs)(l.a,{sx:w.paperStyle,elevation:5,children:[Object(S.jsx)(c.a,{sx:w.appLogoStyleBox,children:Object(S.jsx)("img",{src:g,alt:"deskbooking",className:"login-app-logo"})}),Object(S.jsx)(d.a,{sx:w.formTitleStyle,variant:"h5",children:"Login"}),Object(S.jsxs)(d.a,{sx:w.formSubtitleStyle,variant:"subtitle1",children:["Don't have an account yet?",Object(S.jsx)(p.a,{sx:w.signInButtonStyle,onClick:()=>y.push("/register"),children:"SIGN UP"})]}),Object(S.jsxs)(c.a,{sx:w.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your username"}),Object(S.jsx)(j.a,{value:t.username,onChange:e=>a({...t,username:e.target.value}),sx:w.textFieldStyle,error:i.length>0,helperText:i,id:"username",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(h.a,{})})}})]}),Object(S.jsxs)(c.a,{sx:w.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your password"}),Object(S.jsx)(j.a,{value:t.password,onChange:e=>a({...t,password:e.target.value}),sx:w.textFieldStyle,error:r.length>0,helperText:r,id:"password",type:"password",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(b.a,{})})}}),u.length>0&&Object(S.jsx)(d.a,{variant:"body",color:"error.main",gutterBottom:!0,children:u})]}),Object(S.jsx)(p.a,{sx:w.buttonStyle,variant:"contained",onClick:()=>C(),children:"Login"}),Object(S.jsx)(p.a,{sx:w.resetButtonStyle,onClick:()=>y.push("/reset"),children:"Forgot password?"})]})})},C=a(410),T=a(411),W=a(795),E=(a(479),a(779)),D=a(811),R=a(796),I=a(815),B=a(816),A=a(378),N=a.n(A),P=a(379),L=a.n(P);const M={transitionStyle:{transitionDelay:"300ms"},paperStyle:{width:"60vh",height:"100%",minWidth:"200px",minHeight:"230px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"1%"},formTitleStyle:{textAlign:"start",fontWeight:"bold",marginLeft:"2%",marginTop:"2%"},formSubtitleStyle:{textAlign:"start",marginLeft:"2%"},formLogInButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"17px","&:hover":{textDecoration:"underline"}},inputBoxWrapperStyle:{width:"100%",marginRight:"2%",marginLeft:"2%",marginTop:"2%"},rowInputElementsWrapper:{display:"flex"},signUpButtonWrapper:{display:"flex",justifyContent:"center"},signUpButtonStyle:{marginTop:"4%",width:"50%"},dividerStyle:{marginTop:"3%"}};var z=e=>{const t=Object(O.g)(),[a,r]=Object(n.useState)({firstName:"",lastName:"",email:"",telephone:"",username:"",password:"",confirmPassword:"",workingUnitName:""}),[s,i]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[g,f]=Object(n.useState)(!1),[y,w]=Object(n.useState)(""),[k,C]=Object(n.useState)(""),[T,W]=Object(n.useState)(""),[A,P]=Object(n.useState)(""),[z,Z]=Object(n.useState)(""),[U,F]=Object(n.useState)(""),[H,G]=Object(n.useState)(""),Y=()=>{u(""),i(""),w(""),C(""),W(""),P(""),Z(""),F("");const e=q(a.username),t=X(a.password),n=Q(a.email),r=$(a.telephone),s=_(a.firstName),o=ee(a.lastName),l=V(a.confirmPassword);e.err||t.err||n.err||r.err||s.err||o.err||l.err?(G(l.errMsg),C(o.errMsg),w(s.errMsg),P(r.errMsg),W(n.errMsg),F(t.errMsg),Z(e.errMsg)):(f(!0),async function(e){try{const t=await v.post("/register",e),{data:a}=t;if(void 0!==a)return Promise.resolve(a);throw new Error("REGISTRATION ERROR")}catch(m){return Promise.reject("Username alredy taken")}}(a).then((e=>{i("Successfull registration, check your email for confirmation")})).catch((e=>{u("Error "+e)})).finally((()=>{f(!1)})))},J=Object(n.useCallback)((e=>{13===e.keyCode&&Y()}),[a]);var K;Object(n.useEffect)((()=>(window.addEventListener("keypress",J),()=>{window.removeEventListener("keypress",J)})),[J]);const X=e=>{var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])");return e.length<8||e.length>30?{err:!0,errMsg:"Password must be at least 8 and maximum 30 characters long!"}:t.test(e)?(K=e,{err:!1,errMsg:""}):{err:!0,errMsg:"Password must contain number, lowercase, uppercase alphabetical and special character!"}},V=e=>K!==e?{err:!0,errMsg:"Password does not match!"}:{err:!1,errMsg:""},q=e=>{var t=new RegExp(/^[a-zA-Z0-9]+$/g);return 0===e.length?{err:!0,errMsg:"Enter your username!"}:t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Only alphabetic characters and numbers are allowed!"}},Q=e=>0!==e.length&&e.endsWith("@enjoying.rs")?{err:!1,errMsg:""}:{err:!0,errMsg:"You must be part of Enjoy.ing team to use this application!"},$=e=>{var t=new RegExp(/^[0-9 +]+$/);return 0!==e.length&&t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Invalid phone number!"}},_=e=>{var t=new RegExp(/^[a-zA-Z]+$/g);return 0!==e.length&&t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Only alphabetic characters are allowed!"}},ee=e=>{var t=new RegExp(/^[a-zA-Z]+$/g);return 0!==e.length&&t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Only alphabetic characters are allowed!"}};return Object(S.jsx)(o.a,{style:M.transitionStyle,in:!0,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(S.jsxs)(l.a,{sx:M.paperStyle,elevation:5,children:[Object(S.jsx)(d.a,{sx:M.formTitleStyle,variant:"h4",children:"Sign Up"}),Object(S.jsxs)(d.a,{sx:M.formSubtitleStyle,variant:"subtitle1",children:["Already a user?",Object(S.jsx)(p.a,{sx:M.formLogInButtonStyle,onClick:()=>t.push("/login"),children:"LOG IN"})]}),Object(S.jsxs)(c.a,{sx:M.rowInputElementsWrapper,children:[Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your First Name"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.firstName,onChange:e=>r({...a,firstName:e.target.value}),sx:M.textFieldStyle,error:y.length>0,helperText:y,id:"firstName",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start"})}})]}),Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your Last Name"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.lastName,onChange:e=>r({...a,lastName:e.target.value}),sx:M.textFieldStyle,error:k.length>0,helperText:k,id:"lastName",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start"})}})]})]}),Object(S.jsx)(E.a,{variant:"middle",sx:M.dividerStyle}),Object(S.jsxs)(c.a,{sx:M.rowInputElementsWrapper,children:[Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your enjoy.ing email"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.email,onChange:e=>r({...a,email:e.target.value}),sx:M.textFieldStyle,error:T.length>0,helperText:T,id:"email",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(N.a,{})})}})]}),Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your username"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.username,onChange:e=>r({...a,username:e.target.value}),sx:M.textFieldStyle,error:z.length>0,helperText:z,id:"username",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(h.a,{})})}})]})]}),Object(S.jsx)(E.a,{variant:"middle",sx:M.dividerStyle}),Object(S.jsxs)(c.a,{sx:M.rowInputElementsWrapper,children:[Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your password"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.password,onChange:e=>r({...a,password:e.target.value}),sx:M.textFieldStyle,error:U.length>0,helperText:U,id:"password",type:"password",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(b.a,{})})}})]}),Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Confirm your password"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.confirmPassword,onChange:e=>r({...a,confirmPassword:e.target.value}),sx:M.textFieldStyle,error:H.length>0,helperText:H,id:"confirmPassword",type:"password",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(b.a,{})})}})]})]}),Object(S.jsx)(E.a,{variant:"middle",sx:M.dividerStyle}),Object(S.jsxs)(c.a,{sx:M.rowInputElementsWrapper,children:[Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your phone number"}),Object(S.jsx)(j.a,{fullWidth:!0,size:"small",value:a.telephone,onChange:e=>r({...a,telephone:e.target.value}),sx:M.textFieldStyle,error:A.length>0,helperText:A,id:"telephone",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(L.a,{})})}})]}),Object(S.jsxs)(c.a,{sx:M.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your working unit"}),Object(S.jsx)(D.a,{fullWidth:!0,children:Object(S.jsxs)(R.a,{size:"small",defaultValue:"",id:"workingUnitName",onChange:e=>r({...a,workingUnitName:e.target.value}),children:[Object(S.jsx)(I.a,{value:"Nis Office",children:"Nis"}),Object(S.jsx)(I.a,{value:"Beograd Office",children:"Beograd"}),Object(S.jsx)(I.a,{value:"Kragujevac Office",children:"Kragujevac"})]})})]})]}),Object(S.jsxs)(c.a,{sx:{marginTop:"2%",display:"flex",justifyContent:"center"},children:[g&&Object(S.jsx)(B.a,{size:30}),s.length>0&&Object(S.jsxs)(d.a,{sx:{color:"success.main"},children:[" ",s," "]}),m.length>0&&Object(S.jsxs)(d.a,{sx:{color:"error.main"},children:[" ",m," "]})]}),Object(S.jsx)(c.a,{sx:M.signUpButtonWrapper,children:Object(S.jsx)(p.a,{sx:M.signUpButtonStyle,variant:"contained",onClick:()=>Y(),children:"Sign up!"})})]})})},Z=(a(480),a(813)),U=a(780),F=a(781),H=a(782),G=a(817),Y=a(783),J=a(818),K=a(819),X=a(820),V=a(805),q=a(388),Q=a.n(q),$=a(387),_=a.n($),ee=a(385),te=a.n(ee),ae=a(386),ne=a.n(ae),re=a(88),se=a(412),ie=a(381),oe=a.n(ie),le=a(382),ce=a.n(le);const de={menuStyle:{padding:"5%"},menuItemStyle:{marginLeft:"25px",marginRight:"25px","&:hover":{color:"primary.main"}},avatarWrapper:{display:"flex",justifyContent:"center",marginTop:"5px",marginLeft:"25px",marginRight:"25px"},dividerStyle:{marginTop:"10%"},nameStyle:{fontWeight:"bold",color:"primary.main"},menyItemIconStyle:{marginRight:"5%"},nameUsernameWrapper:{marginLeft:"10px",display:"flex",flexDirection:"column"}};var pe=e=>{const t=Object(O.g)();return Object(S.jsxs)(se.a,{sx:de.menuStyle,anchorEl:e.anchorMenuEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:e.menuId,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:e.isMenuOpen,onClose:e.handleAnchorMenuClose,children:[Object(S.jsxs)(c.a,{sx:de.avatarWrapper,children:[Object(S.jsx)(re.a,{name:e.user.firstName+" "+e.user.lastName,options:{shape:"square",twoLetter:!0,size:60}}),Object(S.jsxs)(c.a,{sx:de.nameUsernameWrapper,children:[Object(S.jsx)(d.a,{sx:de.nameStyle,variant:"subtitle1",children:e.user.firstName+" "+e.user.lastName}),Object(S.jsx)(d.a,{sx:de.usernameStyle,variant:"subtitle2",children:e.user.username})]})]}),Object(S.jsx)(E.a,{variant:"middle",sx:de.dividerStyle}),Object(S.jsxs)(I.a,{sx:de.menuItemStyle,onClick:()=>{t.push("/profile"),e.handleAnchorMenuClose()},children:[Object(S.jsx)(oe.a,{sx:de.menyItemIconStyle})," My Profile"]}),Object(S.jsxs)(I.a,{sx:de.menuItemStyle,onClick:e.logOut,children:[Object(S.jsx)(ce.a,{sx:de.menyItemIconStyle})," Log Out"]})]})},je=a(107),xe=a.n(je),me=a(383),he=a.n(me),ue=a(384),be=a.n(ue),ge=a(124),Oe=a.n(ge),fe=a(125),ye=a.n(fe);const ve={itemsList:[{id:0,adminOption:!1,urlFragment:"/",icon:Object(S.jsx)(he.a,{}),itemText:"Home",suboptions:!1},{id:1,adminOption:!0,urlFragment:"/analytics",icon:Object(S.jsx)(Oe.a,{}),itemText:"Analytics",suboptions:!1},{id:2,adminOption:!1,urlFragment:"/booking",icon:Object(S.jsx)(xe.a,{}),itemText:"Booking",suboptions:!0},{id:3,adminOption:!1,urlFragment:"/users",icon:Object(S.jsx)(be.a,{}),itemText:"Users",suboptions:!1},{id:4,adminOption:!1,urlFragment:"/parking",icon:Object(S.jsx)(ye.a,{}),itemText:"Parking",suboptions:!0}]},Se=Object(n.createContext)({user:{},setUser:()=>{}});function we(){return Object(n.useContext)(Se)}var ke=e=>Object(S.jsx)(Se.Provider,{value:e.value,children:e.children});async function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;try{const a=await v.get("/profile/view/user/list?pageNo="+e+"&pageSize="+t),{data:n}=a;return Promise.resolve(n)}catch(a){console.log("ERROR GETTING USER LIST",a)}}async function Te(e){let t=e.replace(" Office","");try{const e=await v.get(`/booking/${t}`),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("LOGIN ERROR",a)}}async function We(e,t){try{const a=await v.get(`/booking/${t}/${e}`),{data:n}=a;return Promise.resolve(n)}catch(a){console.log("LOGIN ERROR",a)}}async function Ee(e){try{const t={deskName:e},a=await v.post("/booking/schedules",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("LIMITED SCHEDULE ERROR",t)}}const De={appBar:{zIndex:e=>e.zIndex.drawer+1,display:"flex",paddingTop:"7px",paddingBottom:"7px"},drawerStyle:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"},display:{xs:"none",md:"block"}},mobileDrawerStyle:{zIndex:e=>e.zIndex.drawer+1,display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},toolbarStyle:{display:"flex",justifyContent:"space-between"},appBarButtonStyle:{color:"white"},listItemStyle:{"&:hover":{color:"primary.main"}},subitemListItemStyle:{pl:4,"&:hover":{color:"primary.main"}},listItemStyleSelected:{color:"primary.main"},subitemListItemStyleSelected:{color:"primary.main",pl:4},listIconColorStyle:{color:"#121212"},listItemTypographyStyle:{fontWeight:"600"},appLogoStyleBox:{"&:hover":{cursor:"pointer"}},welcomeTitleStyle:{marginTop:"2%",fontWeight:"bold",color:"primary.main",padding:"5%"},drawerNameStyle:{fontWeight:"bold",color:"primary.main",marginLeft:"10%",marginTop:"10%"},drawerUsernameStyle:{fontWeight:"bold",marginLeft:"10%"},drawerProfileInfoBox:{display:"flex",flexDirection:"column","&:hover":{cursor:"pointer"}}};var Re=e=>{const t=Object(O.g)(),[a,r]=Object(n.useState)(!1),[s,i]=Object(n.useState)(0),[o,l]=Object(n.useState)(-1),[j,x]=Object(n.useState)(null),[m,h]=Object(n.useState)(!1),[u,b]=Object(n.useState)(null),{window:g}=e,[f,y]=Object(n.useState)({}),w={user:f,setUser:y},k=Boolean(j),C=void 0!==g?()=>g().document.body:void 0,T=()=>{r(!a)};Object(n.useEffect)((()=>{(async function(){try{const e=await v.get("/profile/view"),{data:t}=e;return Promise.resolve(t)}catch(e){console.log("LOGIN ERROR",e)}})().then((e=>{y(e)})).catch((e=>{console.log(e)}))}),[]),Object(n.useEffect)((()=>{(async function(){try{const e=await v.get("/booking"),{data:t}=e;return Promise.resolve(t)}catch(e){console.log("LOGIN ERROR",e)}})().then((e=>{b(e)})).catch((e=>{console.log(e)}))}),[]);const W=Object(S.jsxs)(c.a,{sx:{overflow:"auto",marginTop:"16px"},children:[Object(S.jsxs)(c.a,{onClick:()=>t.push("/profile"),sx:De.drawerProfileInfoBox,children:[Object(S.jsx)(d.a,{sx:De.drawerNameStyle,variant:"h5",children:f.firstName+" "+f.lastName}),Object(S.jsx)(d.a,{sx:De.drawerUsernameStyle,variant:"subtitle1",children:f.username})]}),Object(S.jsx)(E.a,{variant:"middle"}),Object(S.jsx)(Z.a,{sx:{marginTop:"8px"},onClick:()=>r(!1),children:f.roles&&ve.itemsList.map((e=>(!e.adminOption||f.roles.find((e=>2===e.id||3===e.id)))&&Object(S.jsxs)(n.Fragment,{children:[Object(S.jsxs)(U.a,{selected:s===e.id,className:"list-item-drawer",sx:s===e.id?De.listItemStyleSelected:De.listItemStyle,onClick:()=>{var a;e.suboptions?(a=e.id,s!==a?(i(a),h(!0)):h(!m)):((e,a)=>{l(-1),i(e),t.push(a,{detail:u})})(e.id,e.urlFragment)},children:[Object(S.jsx)(F.a,{sx:s===e.id?De.listItemStyleSelected:De.listIconColorStyle,className:"list-item-drawer-icon",children:e.icon}),Object(S.jsx)(H.a,{primaryTypographyProps:De.listItemTypographyStyle,primary:e.itemText}),e.suboptions&&(m&&s===e.id?Object(S.jsx)(te.a,{}):Object(S.jsx)(ne.a,{}))]}),e.suboptions&&u&&Object(S.jsx)(G.a,{in:m&&s===e.id,timeout:"auto",unmountOnExit:!0,children:Object(S.jsx)(Z.a,{component:"div",disablePadding:!0,children:u.map((a=>Object(S.jsx)(n.Fragment,{children:(4!==e.id||null!==a.parkingMap)&&Object(S.jsx)(U.a,{onClick:()=>((e,a)=>{l(e.id),t.push(`${a}/${e.city}`,{detail:e})})(a,e.urlFragment),sx:o===a.id?De.subitemListItemStyleSelected:De.subitemListItemStyle,children:Object(S.jsx)(H.a,{primary:a.unitName,primaryTypographyProps:De.listItemTypographyStyle})})},a.unitName)))})})]},e.itemText)))})]});return Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(Y.a,{}),Object(S.jsxs)(J.a,{position:"fixed",sx:De.appBar,children:[Object(S.jsxs)(K.a,{sx:De.toolbarStyle,children:[Object(S.jsx)(c.a,{sx:De.appLogoStyleBox,onClick:()=>{i(0),t.push("/")},children:Object(S.jsx)("img",{src:"data:image/png;base64,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",alt:"deskbooking",className:"app-logo-white"})}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsxs)(p.a,{sx:De.appBarButtonStyle,"aria-label":"account of current user","aria-haspopup":"true",onClick:e=>{x(e.currentTarget)},children:[Object(S.jsx)(re.a,{name:f.firstName+" "+f.lastName,options:{twoLetter:!0,size:42}}),Object(S.jsx)(_.a,{})]}),Object(S.jsx)(X.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:T,sx:{mr:2,display:{md:"none"}},children:Object(S.jsx)(Q.a,{})})]})]}),Object(S.jsx)(pe,{anchorMenuEl:j,handleAnchorMenuClose:()=>{x(null)},logOut:()=>e.logOut(),isMenuOpen:k,menuId:"primary-anchor-account-menu",user:f})]}),Object(S.jsxs)(V.a,{variant:"permanent",sx:De.drawerStyle,open:!0,children:[Object(S.jsx)(K.a,{}),W]}),Object(S.jsx)(V.a,{container:C,variant:"temporary",open:a,onClose:T,ModalProps:{keepMounted:!0},sx:De.mobileDrawerStyle,children:W}),Object(S.jsxs)(c.a,{component:"main",sx:{flexGrow:1,p:3,marginTop:"16px"},children:[Object(S.jsx)(K.a,{}),Object(S.jsx)(ke,{value:w,children:e.contentComponents})]})]})},Ie=a(806),Be=(a(481),a(389)),Ae=a.n(Be),Ne=a(807);a(482);const Pe={pageHeadingBox:{display:"flex"},pageHeadingAvatar:{bgcolor:"primary.main",width:72,height:72},pageHeadingBoxTitle:{color:"primary.main",fontWeight:"600"},pageHeadingBoxSubtitle:{}};var Le=e=>Object(S.jsxs)(Ie.a,{sx:Pe.pageHeadingBox,children:[Object(S.jsx)(Ne.a,{sx:Pe.pageHeadingAvatar,variant:"rounded",children:e.avatar}),Object(S.jsxs)(Ie.a,{sx:{marginLeft:"1%"},children:[Object(S.jsx)(d.a,{variant:"h4",sx:Pe.pageHeadingBoxTitle,children:e.title}),Object(S.jsx)(d.a,{variant:"subtitle1",sx:Pe.pageHeadingBoxSubtitle,children:e.subtitle})]})]}),Me=a(40),ze=a.n(Me),Ze=a(821),Ue=a(822),Fe=a(823);async function He(e){let t={user:e};try{const e=await v.post("/schedule",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("SCHEDULE ERROR",a)}}const Ge={pageHeadingHomeIcon:{fontSize:"48px",color:"white"},cardStyle:{marginTop:"2%",maxWidth:"500px",borderStyle:"solid",borderWidth:"2px",borderColor:"primary.main"},titleTypographyStyle:{fontWeight:"bold"},deskTypographyStyle:{fontWeight:"bold"},deleteButton:{fontWeight:"bold"}};var Ye=()=>{const[e,t]=Object(n.useState)(null),{user:a}=we();function r(e){(async function(e){let t={id:e};try{const e=await v.post("/schedule/disable",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("DISABLED SCHEDULE ERROR",a)}})(e).then((e=>{He(a.username).then((e=>{console.log(e),t(e)}))}))}return Object(n.useEffect)((()=>{a.username&&He(a.username).then((e=>{t(e)}))}),[a.username]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Le,{avatar:Object(S.jsx)(Ae.a,{sx:Ge.pageHeadingHomeIcon}),title:"Home",subtitle:"Here you can see all your bookings!"}),Object(S.jsx)(Ie.a,{children:e&&e.map((e=>Object(S.jsxs)(Ze.a,{sx:Ge.cardStyle,elevation:3,children:[Object(S.jsxs)(Ue.a,{children:[Object(S.jsx)(d.a,{variant:"h5",sx:Ge.titleTypographyStyle,color:"primary.main",children:e.workingUnitName+" - "+e.officeName}),Object(S.jsx)(d.a,{variant:"body1",sx:Ge.deskTypographyStyle,color:"secondary.main",children:e.deskName}),Object(S.jsx)(d.a,{variant:"body1",sx:Ge.dateStyle,children:ze()(e.dateFrom).format("D MMM YYYY")+" from "+ze()(e.dateFrom).format("HH:mm")+" to "+ze()(e.dateTo).format("HH:mm")})]}),!(ze()(e.dateFrom)<ze()())&&Object(S.jsx)(Fe.a,{children:Object(S.jsx)(p.a,{sx:Ge.deleteButton,variant:"outlined",color:"error",onClick:()=>r(e.id),children:"CANCEL"})})]},e.id)))})]})},Je=a(797),Ke=a(812);const Xe={pageHeadingBox:{display:"flex",flexWrap:"wrap"},pageHeadingAvatar:{bgcolor:"primary.main",width:72,height:72},pageHeadingBoxTitle:{color:"primary.main",fontWeight:"600"},pageHeadingBoxSubtitle:{},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24},imageOffice:{display:"block",margin:"auto",maxWidth:"100vh",maxHeight:"95vh",overflow:"auto",padding:"40px"},iconWrapperBox:{paddingLeft:"50px","&:hover":{filter:"brightness(0.7)"}},iconOffice:{width:72,height:72,objectFit:"contain",cursor:"pointer",paddingTop:"25%"}};var Ve=e=>{const[t,a]=n.useState(!1);return Object(S.jsxs)(Ie.a,{children:[Object(S.jsxs)(Ie.a,{sx:Xe.pageHeadingBox,children:[Object(S.jsx)(Ne.a,{sx:Xe.pageHeadingAvatar,variant:"rounded",children:e.avatar}),Object(S.jsxs)(Ie.a,{sx:{marginLeft:"1%"},children:[Object(S.jsx)(d.a,{variant:"h4",sx:Xe.pageHeadingBoxTitle,children:e.title}),Object(S.jsx)(d.a,{variant:"subtitle1",sx:Xe.pageHeadingBoxSubtitle,children:e.subtitle})]}),e.map&&Object(S.jsx)(Ie.a,{sx:Xe.iconWrapperBox,onClick:()=>a(!0),children:Object(S.jsx)("img",{style:Xe.iconOffice,src:"/images/map_glass.png",alt:"office map icon"})})]}),e.map&&Object(S.jsx)(Je.a,{"aria-labelledby":"modal-modal-title","aria-describedby":"modal-description",open:t,onClose:()=>a(!1),closeAfterTransition:!0,BackdropComponent:Ke.a,BackdropProps:{timeout:500},children:Object(S.jsx)(o.a,{in:t,children:Object(S.jsx)(Ie.a,{sx:Xe.modal,children:Object(S.jsx)("img",{style:Xe.imageOffice,src:e.map,alt:"office map"})})})})]})},qe=(a(483),a(190)),Qe=a.n(qe),$e=a(824);const _e={cardStyle:{minWidth:"250px",marginTop:"2%",marginBottom:"2%",marginRight:"2%",borderRadius:"8px","&:hover":{filter:"brightness(0.9)"}},cardDisabledStyle:{minWidth:"250px",marginTop:"2%",marginBottom:"2%",marginRight:"2%",borderRadius:"8px",opacity:"0.3"},cardTitle:{fontWeight:"bold"},captionTypograpyStyle:{fontWeight:"bold",fontSize:"10px",opacity:"0.6"}};var et=e=>Object(S.jsx)(Ze.a,{onClick:()=>{e.office.available&&e.handleClick()},elevation:3,sx:e.office.available?_e.cardStyle:_e.cardDisabledStyle,children:Object(S.jsx)($e.a,{children:Object(S.jsxs)(Ue.a,{children:[Object(S.jsx)(d.a,{sx:_e.cardTitle,variant:"h4",color:"primary.main",gutterBottom:!0,children:e.office.name}),Object(S.jsx)(d.a,{sx:_e.captionTypograpyStyle,variant:"caption",color:"secondary.main",gutterBottom:!0,children:"CLICK TO OPEN"})]})})}),tt=a(89),at=a.n(tt),nt=a(390),rt=a.n(nt),st=a(804),it=a(68),ot=a.n(it);const lt={popoverWrapperStyle:{width:"35vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},contentWrapper:{marginTop:"1%",marginBottom:"4%",marginLeft:"4%",marginRight:"2%"},timeWrapper:{display:"flex",marginTop:"4%"}};var ct=e=>{const[t,a]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),i=()=>{a(""),s("")};return Object(S.jsx)(st.b,{sx:lt.popoverStyle,id:e.officePopoverID,open:e.openOfficePopover,anchorEl:e.anchorOfficePopover,onClose:()=>{e.handleAddOfficeClose(),i()},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(S.jsxs)(c.a,{sx:lt.popoverWrapperStyle,children:[Object(S.jsx)(c.a,{sx:lt.iconBoxWrapper,children:Object(S.jsx)(X.a,{onClick:()=>{e.handleAddOfficeClose(),i()},children:Object(S.jsx)(ot.a,{sx:lt.iconStyle})})}),Object(S.jsxs)(c.a,{sx:lt.contentWrapper,children:[Object(S.jsx)(d.a,{variant:"h5",sx:{color:"primary.main",fontWeight:"600"},gutterBottom:!0,children:"Add an office"}),Object(S.jsx)(j.a,{label:"Office name",value:t,onChange:e=>a(e.target.value),sx:lt.textFieldStyle,error:r.length>0,helperText:r,id:"officeName",variant:"outlined"}),Object(S.jsx)(c.a,{sx:{display:"flex",justifyContent:"start",marginTop:"4%"},children:Object(S.jsx)(p.a,{onClick:()=>{t.length>0?(e.handleEventAddOffice(t),e.handleAddOfficeClose(),i()):s("You must enter an office name!")},variant:"contained",children:"Add office"})})]})]})})};const dt={pageHeadingWorkingUnitIcon:{fontSize:"48px",color:"white"}};var pt=()=>{const e=Object(O.g)(),t=e.location.state.detail,[a,r]=Object(n.useState)(null),{user:s}=we(),[i,o]=Object(n.useState)(null),[l,d]=Object(n.useState)(null),[p,j]=Object(n.useState)(null),x=Boolean(l),m=x?"add-office-popover":void 0,h=()=>{r(null)},u=e=>{(async function(e,t,a){try{const n={name:`${e}`,workingUnit:t,available:a},r=await v.post("/admin/add/offices",n),{data:s}=r;return Promise.resolve(s)}catch(n){console.log("ERROR CREATING OFFICE",n)}})(e,t,!0).then((e=>{Te(t.unitName).then((e=>o(e)))}))},b=e=>{e?async function(e){try{const t={name:`${e}`},a=await v.post("/admin/disable/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING OFFICE",t)}}(p.name).then((e=>{Te(t.unitName).then((e=>o(e)))})):async function(e){try{const t={name:`${e}`},a=await v.post("/admin/activate/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING OFFICE",t)}}(p.name).then((e=>{Te(t.unitName).then((e=>o(e)))}))},g=e=>{(async function(e){try{const t={name:`${e}`},a=await v.post("/admin/remove/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR REMOVING OFFICE",t)}})(e).then((e=>{Te(t.unitName).then((e=>o(e)))}))};return Object(n.useEffect)((()=>{Te(t.unitName).then((e=>{o(e)})).catch((e=>{console.log(e)}))}),[t]),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(Ve,{avatar:Object(S.jsx)(Qe.a,{sx:dt.pageHeadingWorkingUnitIcon}),title:t.unitName,subtitle:t.unitAddress,map:t.map}),Object(S.jsxs)(c.a,{sx:{display:"flex",flexWrap:"wrap",width:"100%"},children:[i&&i.map((a=>Object(S.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column",marginRight:"2%",marginTop:"2%"},children:[Object(S.jsx)(et,{handleClick:()=>e.push(`/booking/${t.city}/${a.id}`,{detail:a}),office:a},a.id),s.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsx)(c.a,{children:Object(S.jsx)(X.a,{sx:{color:"success.main","&:hover":{filter:"brightness(0.7)"}},onClick:e=>{((e,t)=>{j(t),r(e.currentTarget)})(e,a)},children:Object(S.jsx)(at.a,{sx:{width:"32px",height:"32px"}})})})]},a.id))),s.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(c.a,{sx:{paddingTop:"4%"},children:Object(S.jsx)(X.a,{onClick:e=>(e=>{d(e.currentTarget)})(e),sx:{color:"success.main","&:hover":{filter:"brightness(0.7)"}},children:Object(S.jsx)(rt.a,{sx:{height:"42px",width:"42px"}})})}),Object(S.jsx)(ct,{officePopoverID:m,openOfficePopover:x,anchorOfficePopover:l,handleAddOfficeClose:()=>{d(null)},handleEventAddOffice:e=>u(e)})]}),s.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsxs)(se.a,{id:"menu-settings",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:h,children:[p&&(p.available?Object(S.jsx)(I.a,{onClick:()=>{b(p.available),h()},children:"Disable"}):Object(S.jsx)(I.a,{onClick:()=>{b(p.available),h()},children:"Enable"})),Object(S.jsx)(I.a,{onClick:()=>{g(p.name),h()},children:"Remove"})]})]})]})},jt=(a(484),a(391)),xt=a.n(jt),mt=a(801),ht=a(825),ut=a(826),bt=a(793),gt=a(792);const Ot={pageHeadingUsersIcon:{fontSize:"48px",color:"white"},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},fullName:{textAlign:"center",color:"primary.main",fontWeight:"600"},fieldBox:{marginTop:"5%"},fieldText:{fontWeight:"600"},userStyleActive:{display:"flex"},userStyleInactive:{display:"flex",opacity:"0.4"}};var ft=()=>{const[e,t]=Object(n.useState)([]),[a,s]=Object(n.useState)(0),[i,l]=Object(n.useState)(1),[c,p]=Object(n.useState)(1),[j,x]=r.a.useState(!1),[m,h]=Object(n.useState)([]),[u,b]=Object(n.useState)(null),{user:g}=we(),[O,f]=Object(n.useState)(null),y=()=>{f(null)},w=e=>{console.log(e.userActive),e.userActive?async function(e){try{const t={username:e},a=await v.post("/admin/disable/users",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(e.username).then((e=>{Ce(a).then((e=>{t(e)}))})):async function(e){try{const t={username:e},a=await v.post("/admin/activate/users",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING USER",t)}}(e.username).then((e=>{Ce(a).then((e=>t(e)))}))};return Object(n.useEffect)((()=>{(async function(){try{const e=await v.get("/profile/view/users/number"),{data:t}=e;return Promise.resolve(t)}catch(e){console.log("ERROR GETTING NUMBER OF USERS",e)}})().then((e=>{p(Math.round(e/5))})).catch((e=>{console.log(e)})),Ce(a).then((e=>{t(e)})).catch((e=>{console.log(e)}))}),[a]),Object(S.jsxs)(Ie.a,{children:[Object(S.jsx)(Le,{avatar:Object(S.jsx)(xt.a,{sx:Ot.pageHeadingUsersIcon}),title:"Our Users",subtitle:"See all our users!"}),Object(S.jsxs)(Ie.a,{children:[Object(S.jsx)(Z.a,{children:e.length>0&&e.map((e=>Object(S.jsxs)(Ie.a,{sx:e.userActive?Ot.userStyleActive:Ot.userStyleInactive,children:[Object(S.jsxs)(mt.a,{button:!0,onClick:()=>{(e=>{h(e)})(e),x(!0)},children:[Object(S.jsx)(ht.a,{children:Object(S.jsx)(Ie.a,{sx:Ot.avatarWrapper,children:Object(S.jsx)(re.a,{name:e.firstName+" "+e.lastName,options:{shape:"square",twoLetter:!0,size:50}})})}),Object(S.jsx)(H.a,{primary:e.firstName+" "+e.lastName})]}),g.roles.find((e=>2===e.id||3===e.id))&&g.id!==e.id&&Object(S.jsx)(Ie.a,{children:Object(S.jsx)(ut.a,{sx:{color:"white",backgroundColor:"success.main",marginTop:"4%","&:hover":{filter:"brightness(0.9)"}},size:"small",onClick:t=>((e,t)=>{b(t),f(e.currentTarget)})(t,e),children:Object(S.jsx)(at.a,{})})})]},e.username)))}),u&&Object(S.jsx)(se.a,{id:"menu-settings",anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(O),onClose:y,children:u.userActive?Object(S.jsx)(I.a,{onClick:()=>{w(u),y()},children:"Disable"}):Object(S.jsx)(I.a,{onClick:()=>{w(u),y()},children:"Enable"})})]}),Object(S.jsx)(Ie.a,{children:Object(S.jsx)(bt.a,{spacing:2,children:Object(S.jsx)(gt.a,{page:i,onChange:(e,t)=>{l(t),s(t-1)},count:c,color:"primary"})})}),m&&Object(S.jsx)(Je.a,{"aria-labelledby":"modal-modal-title","aria-describedby":"modal-description",open:j,onClose:()=>x(!1),closeAfterTransition:!0,BackdropComponent:Ke.a,BackdropProps:{timeout:500},children:Object(S.jsx)(o.a,{in:j,children:Object(S.jsxs)(Ie.a,{sx:Ot.modal,children:[Object(S.jsxs)(d.a,{id:"modal-modal-title",variant:"h4",component:"h2",sx:Ot.fullName,children:[m.firstName," ",m.lastName]}),Object(S.jsxs)(Ie.a,{sx:Ot.fieldBox,children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"E-mail:"}),Object(S.jsx)(d.a,{variant:"h6",sx:Ot.fieldText,children:m.email})]}),Object(S.jsxs)(Ie.a,{sx:Ot.fieldBox,children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"Telephone:"}),Object(S.jsx)(d.a,{variant:"h6",sx:Ot.fieldText,children:m.telephone})]}),m.workingUnit&&Object(S.jsxs)(Ie.a,{sx:Ot.fieldBox,children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"Office:"}),Object(S.jsx)(d.a,{variant:"h6",sx:Ot.fieldText,children:m.workingUnit.unitName})]})]})})})]})};a(485);const yt={paperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:24,p:4,width:"42vh",height:"400px"},contentWrapper:{display:"flex",flexDirection:"column"},modalTitle:{color:"primary.main",fontWeight:"600",textAlign:"center"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"4%"},inputLabelStyle:{fontWeight:"bold"},buttonStyle:{padding:"2%",fontWeight:"600","&:hover":{textDecoration:"underline"}}},vt={newPassword:"",confirmNewPassword:""};var St=e=>{const[t,a]=Object(n.useState)(vt),[r,s]=Object(n.useState)(null),[i,o]=Object(n.useState)(""),x=()=>{t.newPassword.length>4?t.newPassword===t.confirmNewPassword?(s(null),async function(e){try{const t=await v.post("/profile/update/password",{password:e}),{data:a}=t;return Promise.resolve(a)}catch(t){return console.log("PASSWORD CHANGE ERROR",t),Promise.reject("Password change error")}}(t.newPassword).then((e=>{console.log("sucess"+e),a(vt),o("Password changed successfully!")})).catch((e=>{console.log(e)}))):s("confirmNewPassword"):s("newPassword")};return Object(S.jsx)(Je.a,{open:e.open,onClose:()=>{e.handleClose(),a(vt),o("")},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(S.jsx)(l.a,{sx:yt.paperStyle,children:Object(S.jsxs)(c.a,{sx:yt.contentWrapper,children:[Object(S.jsx)(d.a,{variant:"h5",sx:yt.modalTitle,children:"Change Your Password"}),Object(S.jsxs)(c.a,{sx:yt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:yt.inputLabelStyle,gutterBottom:!0,children:"Your new password"}),Object(S.jsx)(j.a,{value:t.newPassword,onChange:e=>{a({...t,newPassword:e.target.value})},error:"newPassword"===r,helperText:"newPassword"===r?"Password must be at least 4 characters long!":"",id:"newPassword",type:"password",variant:"outlined"})]}),Object(S.jsxs)(c.a,{sx:yt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:yt.inputLabelStyle,gutterBottom:!0,children:"Confirm your new password"}),Object(S.jsx)(j.a,{value:t.confirmNewPassword,onChange:e=>{a({...t,confirmNewPassword:e.target.value})},error:"confirmNewPassword"===r,helperText:"confirmNewPassword"===r?"Passwords in the fields must be the same!":"",id:"confirmNewPassword",type:"password",variant:"outlined"}),i.length>0&&Object(S.jsx)(d.a,{variant:"subtitle1",sx:{fontWeight:"bold",color:"success.main"},gutterBottom:!0,children:i})]}),Object(S.jsxs)(c.a,{sx:{marginTop:"5%",display:"flex",justifyContent:"center"},children:[Object(S.jsx)(p.a,{variant:"text",sx:yt.buttonStyle,onClick:()=>{x()},children:"Change"}),Object(S.jsx)(p.a,{variant:"text",sx:yt.buttonStyle,onClick:()=>{e.handleClose(),a(vt),o("")},children:"Close"})]})]})})})};const wt={paperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:24,p:4,width:"60vh",height:"450px"},contentWrapper:{display:"flex",flexDirection:"column"},modalTitle:{color:"primary.main",fontWeight:"600",textAlign:"center"},rowWrapper:{display:"flex"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginLeft:"4%",marginRight:"4%",marginTop:"2%"},inputLabelStyle:{fontWeight:"bold"},buttonStyle:{padding:"2%",fontWeight:"600","&:hover":{textDecoration:"underline"}}};var kt=e=>{const{user:t,setUser:a}=we(),r={firstName:t.firstName,lastName:t.lastName,email:t.email,workingUnit:t.workingUnit.unitName,telephone:t.telephone},[s,i]=Object(n.useState)(r),[o,x]=Object(n.useState)(null),m=()=>{h()&&(x(null),console.log(s),async function(e){try{const t=await v.post("/profile/update",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("EDIT PROFILE ERROR",t)}}(s).then((t=>{console.log("sucess"+t),a(t),e.handleClose()})).catch((e=>{console.log(e)})))},h=()=>0===s.firstName.length?(x("firstName"),!1):0===s.lastName.length?(x("lastName"),!1):s.email.endsWith("@enjoying.rs")?0!==s.telephone.length||(x("telephone"),!1):(x("email"),!1);return Object(S.jsx)(Je.a,{open:e.open,onClose:()=>{e.handleClose(),i(r)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(S.jsx)(l.a,{sx:wt.paperStyle,children:Object(S.jsxs)(c.a,{sx:wt.contentWrapper,children:[Object(S.jsx)(d.a,{variant:"h5",sx:wt.modalTitle,children:"Edit Your Profile"}),Object(S.jsxs)(c.a,{sx:wt.rowWrapper,children:[Object(S.jsxs)(c.a,{sx:wt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:wt.inputLabelStyle,gutterBottom:!0,children:"Your Name"}),Object(S.jsx)(j.a,{size:"small",value:s.firstName,onChange:e=>{i({...s,firstName:e.target.value})},error:"firstName"===o,helperText:"firstName"===o?"You can't leave this field empty!":"",id:"firstName",type:"text",variant:"outlined"})]}),Object(S.jsxs)(c.a,{sx:wt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:wt.inputLabelStyle,gutterBottom:!0,children:"Your Last Name"}),Object(S.jsx)(j.a,{size:"small",value:s.lastName,onChange:e=>{i({...s,lastName:e.target.value})},error:"lastName"===o,helperText:"lastName"===o?"You can't leave this field empty!":"",id:"lastName",type:"text",variant:"outlined"})]})]}),Object(S.jsxs)(c.a,{sx:wt.rowWrapper,children:[Object(S.jsxs)(c.a,{sx:wt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:wt.inputLabelStyle,gutterBottom:!0,children:"Your Email"}),Object(S.jsx)(j.a,{size:"small",value:s.email,onChange:e=>{i({...s,email:e.target.value})},error:"email"===o,helperText:"email"===o?"You must type yout enjoy.ing email!":"",id:"email",type:"text",variant:"outlined"})]}),Object(S.jsxs)(c.a,{sx:wt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:wt.inputLabelStyle,gutterBottom:!0,children:"Your Phone Number"}),Object(S.jsx)(j.a,{size:"small",value:s.telephone,onChange:e=>{i({...s,telephone:e.target.value})},error:"telephone"===o,helperText:"telephone"===o?"You can't leave this field empty!":"",id:"telephone",type:"number",variant:"outlined"})]})]}),Object(S.jsx)(c.a,{sx:wt.rowWrapper,children:Object(S.jsxs)(c.a,{sx:wt.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",sx:wt.inputLabelStyle,gutterBottom:!0,children:"Your Office"}),Object(S.jsxs)(R.a,{size:"small",defaultValue:t.workingUnit.unitName,id:"workingUnit",onChange:e=>i({...s,workingUnit:e.target.value}),children:[Object(S.jsx)(I.a,{value:"Nis Office",children:"Nis Office"}),Object(S.jsx)(I.a,{value:"Beograd Office",children:"Beograd Office"}),Object(S.jsx)(I.a,{value:"Kragujevac Office",children:"Kragujevac Office"})]})]})}),Object(S.jsxs)(c.a,{sx:{marginTop:"5%",display:"flex",justifyContent:"center"},children:[Object(S.jsx)(p.a,{variant:"text",sx:wt.buttonStyle,onClick:()=>{m()},children:"Edit"}),Object(S.jsx)(p.a,{variant:"text",sx:wt.buttonStyle,onClick:()=>{e.handleClose(),i(r)},children:"Close"})]})]})})})};const Ct={columnWrapper:{display:"flex",justifyContent:"center"},profileWrapper:{marginTop:"2%",display:"flex",flexDirection:"column"},avatarWrapper:{display:"flex",justifyContent:"center"},nameAndLastNameStyle:{color:"primary.main",marginTop:"8%",fontWeight:"600",textAlign:"center"},usernameStyle:{marginTop:"8%",fontWeight:"500",textAlign:"center"},contentBox:{marginTop:"8%"},contentBoxSubtitle:{fontWeight:"400"},contentBoxContent:{fontWeight:"600",color:"#3f4450"},buttonStyle:{paddingLeft:"2%",fontWeight:"600","&:hover":{textDecoration:"underline"}}};var Tt=()=>{const{user:e}=we(),[t,a]=Object(n.useState)(!1),[r,s]=Object(n.useState)(!1);return Object(S.jsxs)(c.a,{sx:Ct.columnWrapper,children:[Object(S.jsxs)(c.a,{sx:Ct.profileWrapper,children:[Object(S.jsx)(c.a,{sx:Ct.avatarWrapper,children:Object(S.jsx)(re.a,{name:e.firstName+" "+e.lastName,options:{shape:"square",twoLetter:!0,size:128}})}),Object(S.jsx)(d.a,{variant:"h4",sx:Ct.nameAndLastNameStyle,children:e.firstName+" "+e.lastName}),Object(S.jsx)(d.a,{variant:"h5",sx:Ct.usernameStyle,children:e.username}),Object(S.jsx)(E.a,{variant:"middle"}),Object(S.jsxs)(c.a,{sx:Ct.contentBox,children:[Object(S.jsx)(d.a,{variant:"subtitle2",sx:Ct.contentBoxSubtitle,children:"Email"}),Object(S.jsx)(d.a,{variant:"h6",sx:Ct.contentBoxContent,children:e.email})]}),Object(S.jsxs)(c.a,{sx:Ct.contentBox,children:[Object(S.jsx)(d.a,{variant:"subtitle2",sx:Ct.contentBoxSubtitle,children:"Phone Number"}),Object(S.jsx)(d.a,{variant:"h6",sx:Ct.contentBoxContent,children:e.telephone})]}),Object(S.jsxs)(c.a,{sx:Ct.contentBox,children:[Object(S.jsx)(d.a,{variant:"subtitle2",sx:Ct.contentBoxSubtitle,children:"Office"}),Object(S.jsx)(d.a,{variant:"h6",sx:Ct.contentBoxContent,children:e.workingUnit.unitName})]}),Object(S.jsxs)(c.a,{sx:Ct.contentBox,children:[Object(S.jsx)(p.a,{variant:"text",onClick:()=>s(!0),sx:Ct.buttonStyle,children:"Edit profile"}),Object(S.jsx)(p.a,{variant:"text",onClick:()=>a(!0),sx:Ct.buttonStyle,children:"Change password"})]})]}),Object(S.jsx)(St,{open:t,handleClose:()=>a(!1)}),Object(S.jsx)(kt,{open:r,handleClose:()=>s(!1)})]})};a(486);const Wt={cardWrapper:{margin:"5px",padding:"5px","&:hover":{cursor:"pointer"}},defaultStyleWrapper:{"&:hover":{color:"primary.main"}},styleWrapperSelected:{color:"primary.main"},styleWrapperDisabled:{opacity:"0.3"},iconWrapper:{display:"flex",justifyContent:"center"},iconStyle:{height:"32px",width:"32px"},deskNameStyle:{textAlign:"center"}};var Et=e=>Object(S.jsx)(c.a,{children:Object(S.jsx)(c.a,{onClick:()=>e.handleSelect(e.desk.available,e.desk.id),sx:Wt.cardWrapper,children:Object(S.jsxs)(c.a,{sx:e.selectedDeskId===e.desk.id?Wt.styleWrapperSelected:e.desk.available?Wt.defaultStyleWrapper:Wt.styleWrapperDisabled,children:[Object(S.jsx)(c.a,{sx:Wt.iconWrapper,children:e.icon}),Object(S.jsx)(d.a,{sx:Wt.deskNameStyle,children:e.desk.name})]})})}),Dt=a(193),Rt=a.n(Dt),It=a(131),Bt=(a(272),a(395)),At=a.n(Bt),Nt=a(396),Pt=a.n(Nt);const Lt={popoverWrapperStyle:{width:"32vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},iconStyle:{width:"28px",height:"28px"},contentWrapper:{marginTop:"1%",marginLeft:"4%",marginRight:"4%",marginBottom:"4%"},nameTypographyDefault:{color:"primary.main",fontWeight:"bold"},nameTypographyCurrentUser:{color:"success.main",fontWeight:"bold"}};var Mt=e=>Object(S.jsx)(st.b,{sx:Lt.popoverStyle,id:e.eventPopoverID,open:e.openEventPopover,anchorEl:e.anchorEventPopover,onClose:e.handleEventClose,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(S.jsxs)(c.a,{sx:Lt.popoverWrapperStyle,children:[Object(S.jsxs)(c.a,{sx:Lt.iconBoxWrapper,children:[(e.currentUserID===e.eventUserID||e.currentUserRoles.find((e=>2===e.id||3===e.id)))&&e.selectedEventEndDate>new Date&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(X.a,{onClick:()=>{e.handleEventDelete(e.event.id),e.handleEventClose()},children:Object(S.jsx)(At.a,{sx:Lt.iconStyle})}),Object(S.jsx)(E.a,{orientation:"vertical",flexItem:!0})]}),Object(S.jsx)(X.a,{onClick:()=>e.handleEventClose(),children:Object(S.jsx)(ot.a,{sx:Lt.iconStyle})})]}),Object(S.jsx)(c.a,{sx:Lt.contentWrapper,children:e.event&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(d.a,{variant:"h6",sx:e.currentUserID===e.eventUserID?Lt.nameTypographyCurrentUser:Lt.nameTypographyDefault,children:e.event.title}),Object(S.jsx)(d.a,{children:e.event.start.toLocaleDateString()}),Object(S.jsxs)(c.a,{sx:{display:"flex",marginTop:"2%"},children:[Object(S.jsx)(Pt.a,{sx:{marginRight:"2%"}}),Object(S.jsxs)(d.a,{children:[e.event.start.toLocaleTimeString()," -"," ",e.event.end.toLocaleTimeString()]})]})]})})]})}),zt=a(786),Zt=a(785),Ut=a(787),Ft=a(788);const Ht={popoverWrapperStyle:{width:"40vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},contentWrapper:{marginTop:"1%",marginBottom:"4%",marginLeft:"4%",marginRight:"2%"},timeWrapper:{display:"flex",marginTop:"4%"}};var Gt=e=>{const[t,a]=Object(n.useState)(ze()().add(1,"days")),[r,s]=Object(n.useState)(null),[i,o]=Object(n.useState)(null),[l,x]=Object(n.useState)(null),m=()=>{if(r&&i){const a={username:e.currentUserUsername,deskName:e.selectedDesk.name,dateFrom:t.set({hour:r.get("hour"),minute:r.get("minute"),second:0}).format("YYYY-MM-D HH:mm:ss"),dateTo:t.set({hour:i.get("hour"),minute:i.get("minute"),second:0}).format("YYYY-MM-D HH:mm:ss")};((t,a)=>{let n=!1;return e.allEvents.forEach((e=>{t<e.end&&e.start<a&&(n=!0)})),n})(ze()(a.dateFrom).toDate(),ze()(a.dateTo).toDate())?x("Selected date and time are not avaliable!"):(e.handleSetNewEvent(a),e.handleCreateClose(),h())}else x("You must select start and end time!")},h=()=>{a(ze()().add(1,"days")),s(null),o(null),x(null)};return Object(S.jsx)(st.b,{sx:Ht.popoverStyle,id:e.createPopoverID,open:e.openCreatePopover,anchorEl:e.anchorCreatePopover,onClose:()=>{e.handleCreateClose(),h()},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(S.jsxs)(c.a,{sx:Ht.popoverWrapperStyle,children:[Object(S.jsx)(c.a,{sx:Ht.iconBoxWrapper,children:Object(S.jsx)(X.a,{onClick:()=>{e.handleCreateClose(),h()},children:Object(S.jsx)(ot.a,{sx:Ht.iconStyle})})}),Object(S.jsxs)(c.a,{sx:Ht.contentWrapper,children:[Object(S.jsx)(d.a,{variant:"h5",sx:{color:"primary.main",fontWeight:"600"},gutterBottom:!0,children:"Book a desk \ud83d\ude07"}),Object(S.jsx)(Zt.a,{dateAdapter:zt.a,children:Object(S.jsx)(Ut.a,{minDate:ze()().add(1,"days"),label:"Pick a date",value:t,onChange:e=>{a(e)},renderInput:e=>Object(S.jsx)(j.a,{...e})})}),Object(S.jsxs)(c.a,{sx:Ht.timeWrapper,children:[Object(S.jsx)(c.a,{children:Object(S.jsx)(Zt.a,{dateAdapter:zt.a,children:Object(S.jsx)(Ft.a,{ampm:!1,label:"Time from",value:r,onChange:e=>{s(e)},renderInput:e=>Object(S.jsx)(j.a,{...e})})})}),Object(S.jsx)(c.a,{sx:{marginLeft:"4%"},children:Object(S.jsx)(Zt.a,{dateAdapter:zt.a,children:Object(S.jsx)(Ft.a,{ampm:!1,minTime:r||null,label:"Time to",value:i,onChange:e=>{o(e)},renderInput:e=>Object(S.jsx)(j.a,{...e})})})})]}),Object(S.jsx)(p.a,{sx:{marginTop:"4%"},variant:"contained",onClick:()=>m(),children:"SUBMIT"}),l&&Object(S.jsx)(d.a,{variant:"subtitle1",sx:{color:"red"},children:l})]})]})})},Yt=a(192),Jt=a.n(Yt);const Kt={popoverWrapperStyle:{width:"35vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},contentWrapper:{marginTop:"1%",marginBottom:"4%",marginLeft:"4%",marginRight:"2%"},timeWrapper:{display:"flex",marginTop:"4%"}};var Xt=e=>{const[t,a]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),i=()=>{a(""),s("")};return Object(S.jsx)(st.b,{sx:Kt.popoverStyle,id:e.deskPopoverID,open:e.openDeskPopover,anchorEl:e.anchorDeskPopover,onClose:()=>{e.handleAddDeskClose(),i()},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(S.jsxs)(c.a,{sx:Kt.popoverWrapperStyle,children:[Object(S.jsx)(c.a,{sx:Kt.iconBoxWrapper,children:Object(S.jsx)(X.a,{onClick:()=>{e.handleAddDeskClose(),i()},children:Object(S.jsx)(ot.a,{sx:Kt.iconStyle})})}),Object(S.jsxs)(c.a,{sx:Kt.contentWrapper,children:[Object(S.jsx)(d.a,{variant:"h5",sx:{color:"primary.main",fontWeight:"600"},gutterBottom:!0,children:"Add a desk"}),Object(S.jsx)(j.a,{label:"Desk name",value:t,onChange:e=>a(e.target.value),sx:Kt.textFieldStyle,error:r.length>0,helperText:r,id:"deskName",variant:"outlined"}),Object(S.jsx)(c.a,{sx:{display:"flex",justifyContent:"start",marginTop:"4%"},children:Object(S.jsx)(p.a,{onClick:()=>{t.length>0?(e.handleEventAddDesk(t),e.handleAddDeskClose(),i()):s("You must enter a desk name!")},variant:"contained",children:"Add desk"})})]})]})})};const Vt={pageHeadingOfficeIcon:{fontSize:"48px",color:"white"},selectWrapper:{minWidth:"150px",width:"100%",marginTop:"20px",display:"flex",flexWrap:"wrap"},contentWrapper:{marginTop:"2%"},calendarWrapper:{paddingLeft:"2%",paddingRight:"2%",paddingBottom:"2%",paddingTop:"1%",height:"75%"},iconStyle:{height:"32px",width:"32px"}};var qt=()=>{const e=Object(O.g)(),t=Object(It.b)(ze.a),[a,r]=Object(n.useState)(-1),[s,i]=Object(n.useState)(null),[o,p]=Object(n.useState)(null),[j,x]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,b]=Object(n.useState)(null),[g,f]=Object(n.useState)(null),[y,w]=Object(n.useState)(null),{user:k}=we(),[C,T]=Object(n.useState)(null),[W,E]=Object(n.useState)(null),{city:D,office:R}=Object(O.h)(),B=Boolean(j),A=B?"event-popover":void 0,N=Boolean(m),P=N?"create-popover":void 0,L=Boolean(u),M=L?"add-desk-popover":void 0,z=e.location.state.detail;Object(n.useEffect)((()=>{We(R,D).then((e=>{console.log(e),i(e)})).catch((e=>{console.log(e)}))}),[]);const Z=e=>{const t=[];return e.map((e=>{let a={id:e.id,title:`${e.user.firstName} ${e.user.lastName}`,start:ze()(e.dateFrom).toDate(),end:ze()(e.dateTo).toDate(),resource:{userID:e.user.id,user:e.user,desk:e.desk}};t.push(a)})),t},U=e=>{(async function(e){let t={id:e};try{const e=await v.post("/booking/disable",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("LIMITED SCHEDULE ERROR",a)}})(e).then((e=>{Ee(s.find((e=>e.id===a)).name).then((e=>{p(Z(e))}))}))},F=()=>{T(null)},H=e=>{(async function(e){try{const t=await v.post("/booking/reservation",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("LIMITED SCHEDULE ERROR",t)}})(e).then((e=>{Ee(s.find((e=>e.id===a)).name).then((e=>{p(Z(e))}))}))},G=e=>{(async function(e,t,a){try{const n={name:`${e}`,office:t,available:a},r=await v.post("/admin/add/desks",n),{data:s}=r;return Promise.resolve(s)}catch(n){console.log("ERROR ADDING DESK",n)}})(e,z,!0).then((e=>{We(R,D).then((e=>i(e)))}))},Y=e=>{e?async function(e){try{const t={name:`${e}`},a=await v.post("/admin/disable/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING DESK",t)}}(W.name).then((e=>{We(R,D).then((e=>{i(e),console.log(e)}))})):async function(e){try{const t={name:`${e}`},a=await v.post("/admin/activate/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING DESK",t)}}(W.name).then((e=>{We(R,D).then((e=>i(e)))}))},J=e=>{(async function(e){try{const t={name:`${e}`},a=await v.post("/admin/remove/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR REMOVING DESK",t)}})(e).then((e=>{We(R,D).then((e=>i(e)))}))};return Object(n.useEffect)((()=>{We(R,D).then((e=>{i(e)})).catch((e=>{console.log(e)}))}),[R]),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(Le,{avatar:Object(S.jsx)(xe.a,{sx:Vt.pageHeadingOfficeIcon}),title:z.name,subtitle:z.workingUnit.unitName}),Object(S.jsx)(c.a,{sx:Vt.selectWrapper,children:s&&Object(S.jsxs)(S.Fragment,{children:[s.map((e=>Object(S.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(S.jsx)(Et,{selectedDeskId:a,handleSelect:(e,t)=>((e,t)=>{e&&(r(t),Ee(s.find((e=>e.id===t)).name).then((e=>{p(Z(e)),console.log(e),console.log(Z(e)+"eeeeee")})))})(e,t),desk:e,icon:Object(S.jsx)(xe.a,{sx:Vt.iconStyle})}),k.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsx)(at.a,{sx:{color:"success.main","&:hover":{filter:"brightness(0.9)"},marginLeft:"30%"},size:"small",onClick:t=>((e,t)=>{E(t),T(e.currentTarget)})(t,e)})]},e.name))),Object(S.jsx)(c.a,{sx:{display:"flex",flexDirection:"column",marginTop:"4%",marginLeft:"1%"},children:k.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(se.a,{id:"menu-settings",anchorEl:C,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(C),onClose:F,children:[W&&(W.available?Object(S.jsx)(I.a,{onClick:()=>{Y(W.available),F()},children:"Disable"}):Object(S.jsx)(I.a,{onClick:()=>{Y(W.available),F()},children:"Enable"})),Object(S.jsx)(I.a,{onClick:()=>{J(W.name),F()},children:"Remove"})]}),k.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Jt.a,{onClick:e=>(e=>{b(e.currentTarget)})(e),sx:{color:"success.main",marginTop:"3%","&:hover":{filter:"brightness(0.9)"}},size:"small"}),Object(S.jsx)(Xt,{deskPopoverID:M,openDeskPopover:L,anchorDeskPopover:u,handleAddDeskClose:()=>{b(null)},handleEventAddDesk:e=>G(e)})]})]})})]})}),Object(S.jsxs)(c.a,{sx:Vt.contentWrapper,children:[-1===a&&Object(S.jsx)(d.a,{variant:"h4",sx:{color:"primary.main",fontWeight:"bold"},children:"Select a desk!"}),-1!==a&&Object(S.jsxs)(l.a,{sx:Vt.calendarWrapper,children:[Object(S.jsx)(c.a,{sx:{display:"flex",justifyContent:"end"},children:Object(S.jsxs)(ut.a,{onClick:e=>(e=>{h(e.currentTarget)})(e),"aria-describedby":P,variant:"extended",size:"medium",color:"primary","aria-label":"add",children:[Object(S.jsx)(Rt.a,{sx:{mr:1}}),"BOOKING"]})}),Object(S.jsx)(It.a,{events:o||[],showMultiDayTimes:!0,defaultView:"week",views:["week"],localizer:t,onSelectEvent:(e,t)=>((e,t)=>{w(e),f(e.resource.userID),x(t.currentTarget)})(e,t),eventPropGetter:e=>e.resource.userID===k.id?e.end>new Date?{ariaDescribedby:{eventPopoverID:A},className:"user-event",style:{backgroundColor:"#21DA6C",border:"none"}}:{ariaDescribedby:{eventPopoverID:A},className:"user-event-past",style:{backgroundColor:"#21DA6C",border:"none",filter:"brightness(0.8)"}}:{ariaDescribedby:{eventPopoverID:A},className:"current-user-event",style:{backgroundColor:"#279cce",border:"none"}}})]}),Object(S.jsx)(Mt,{event:y,selectedEventEndDate:y?y.end:new Date,eventUserID:g,currentUserID:k.id,currentUserRoles:k.roles,eventPopoverID:A,openEventPopover:B,anchorEventPopover:j,handleEventClose:()=>{x(null)},handleEventDelete:e=>U(e)}),Object(S.jsx)(Gt,{currentUserUsername:k.username,selectedDesk:s?s.find((e=>e.id===a)):null,currentUserID:k.id,currentUserName:`${k.firstName} ${k.lastName}`,allEvents:o,handleSetNewEvent:e=>H(e),createPopoverID:P,openCreatePopover:N,anchorCreatePopover:m,handleCreateClose:()=>{h(null)}})]})]})},Qt=(a(487),a(794));const $t={transitionStyle:{transitionDelay:"300ms"},paperStyle:{width:"42vh",height:"365px",minWidth:"200px",minHeight:"230px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"2%"},formTitleStyle:{textAlign:"start",fontWeight:"bold"},formSubtitleStyle:{textAlign:"start"},buttonStyle:{marginTop:"5%"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"4%"},appLogoStyleBox:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"4%"},formLogInButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"17px","&:hover":{textDecoration:"underline"}}};var _t=e=>{var t=!1;const[a,r]=Object(n.useState)({username:""}),[s,i]=n.useState(!1),[m,u]=Object(n.useState)(""),b=Object(O.g)(),f=Object(n.useCallback)((e=>{13===e.keyCode&&y()}),[a]);Object(n.useEffect)((()=>(window.addEventListener("keypress",f),()=>{window.removeEventListener("keypress",f)})),[f]);const y=()=>{u("");const e=w(a.username);e.err?u(e.errMsg):(t=!0,async function(e){try{const t=await v.post("/reset",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("RESET PASSWORD ERROR",t)}}(a).then((e=>{console.log(e)})).catch((e=>{console.log(e)})))},w=e=>0===e.length?{err:!0,errMsg:"Enter your username!"}:{err:!1,errMsg:""};return Object(S.jsx)(o.a,{style:$t.transitionStyle,in:!0,appear:!0,children:Object(S.jsxs)(l.a,{sx:$t.paperStyle,elevation:5,children:[Object(S.jsx)(c.a,{sx:$t.appLogoStyleBox,children:Object(S.jsx)("img",{src:g,alt:"deskbooking",className:"login-app-logo"})}),Object(S.jsx)(d.a,{sx:$t.formTitleStyle,variant:"h5",children:"Reset your password"}),Object(S.jsxs)(d.a,{sx:$t.formSubtitleStyle,variant:"subtitle1",children:["Back to",Object(S.jsx)(p.a,{sx:$t.formLogInButtonStyle,onClick:()=>b.push("/login"),children:"LOG IN?"})]}),Object(S.jsxs)(c.a,{sx:$t.inputBoxWrapperStyle,children:[Object(S.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Enter your username"}),Object(S.jsx)(j.a,{value:a.username,onChange:e=>r({...a,username:e.target.value}),sx:$t.textFieldStyle,error:m.length>0,helperText:m,id:"username",variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(x.a,{position:"start",children:Object(S.jsx)(h.a,{})})}})]}),Object(S.jsxs)(c.a,{sx:$t.inputBoxWrapperStyle,children:[Object(S.jsx)(p.a,{sx:$t.buttonStyle,variant:"contained",onClick:()=>{y(),t&&i(!0)},children:"Reset password"}),Object(S.jsx)(G.a,{in:s,children:Object(S.jsx)(Qt.a,{action:Object(S.jsx)(X.a,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{i(!1)},children:Object(S.jsx)(ot.a,{fontSize:"inherit"})}),sx:{mb:2},children:"Check your email!"})})]})]})})},ea=a(800);const ta={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{width:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main"}};var aa=e=>Object(S.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(S.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(S.jsxs)(D.a,{fullWidth:!0,children:[Object(S.jsx)(ea.a,{id:"time-frame-select-label",children:"Time frame"}),Object(S.jsxs)(R.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(S.jsx)(I.a,{value:30,children:"30 days"}),Object(S.jsx)(I.a,{value:7,children:"7 days"}),Object(S.jsx)(I.a,{value:1,children:"1 day"})]})]})}),Object(S.jsx)(c.a,{sx:ta.contentWrapper,children:e.data&&e.data.map(((t,a)=>{return Object(S.jsxs)(l.a,{sx:ta.analyticsCardSyles,elevation:3,children:[Object(S.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(S.jsx)(Oe.a,{sx:{color:"primary.main",width:"36px",height:"36px",marginRight:"2%"}}),Object(S.jsx)(d.a,{variant:"h5",children:(n=t.workingUnitId,e.workingUnitList.find((e=>e.id===n)).unitName)})]}),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"Total number of bookings:"}),Object(S.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:t.numOfTotalSchedules})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Fulfilled/canceled:"}),Object(S.jsx)(d.a,{sx:ta.dataTypographyStyles,variant:"h5",children:(t.numOfSchedules?t.numOfSchedules:0)+"/"+(t.numOfCanceledSchedules?t.numOfCanceledSchedules:0)})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsxs)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:["Average number of bookings:"," "]}),Object(S.jsx)(d.a,{sx:ta.dataTypographyStyles,variant:"h5",children:t.avgDailyReservation})]})]},a);var n}))})]}),na=a(397),ra=a.n(na),sa=a(789),ia=a(791),oa=a(790),la=a(408),ca=a(409),da=a(97),pa=a(132),ja=a(200);const xa={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{maxWidth:"600px",minWidth:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main",marginTop:"1%"}};var ma=e=>{const[t,a]=Object(n.useState)(null),r=t=>e.workingUnitList.find((e=>e.id===t)).unitName;return Object(n.useEffect)((()=>{(async function(e){try{const t={dateLength:e},a=await v.post("/admin/anaylitic/top/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}})(e.timeFrame).then((e=>{a(e)}))}),[e.timeFrame]),Object(S.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(S.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(S.jsxs)(D.a,{fullWidth:!0,children:[Object(S.jsx)(ea.a,{id:"time-frame-select-label",children:"Time frame"}),Object(S.jsxs)(R.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(S.jsx)(I.a,{value:30,children:"30 days"}),Object(S.jsx)(I.a,{value:7,children:"7 days"}),Object(S.jsx)(I.a,{value:1,children:"1 day"})]})]})}),Object(S.jsx)(c.a,{sx:xa.contentWrapper,children:e.data&&e.data.map(((e,t)=>Object(S.jsxs)(l.a,{sx:xa.analyticsCardSyles,elevation:3,children:[Object(S.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(S.jsx)(ra.a,{sx:{color:"primary.main",width:"32px",height:"32px",marginRight:"2%"}}),Object(S.jsx)(d.a,{variant:"h5",children:r(e.workingUnitId)})]}),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"Total number of offices:"}),Object(S.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:e.numOfDisableOffices||e.numOfEnableOffices?e.numOfDisableOffices+e.numOfEnableOffices:0})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Available/unavailable:"}),Object(S.jsx)(d.a,{sx:xa.dataTypographyStyles,variant:"h5",children:e.numOfDisableOffices||e.numOfEnableOffices?e.numOfEnableOffices+"/"+e.numOfDisableOffices:0})]})]},t)))}),t&&t.map(((e,t)=>e.length>0&&Object(S.jsxs)(l.a,{sx:xa.analyticsCardSyles,elevation:3,children:[Object(S.jsx)(d.a,{sx:{fontWeight:"bold",marginTop:"2%",textAlign:"center"},gutterBottom:!0,children:"Most used offices in "+r(e[t].workingUnitId)}),Object(S.jsx)(c.a,{sx:{width:"500px",height:"300px"},children:Object(S.jsx)(sa.a,{width:"100%",height:"100%",children:Object(S.jsxs)(ia.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(S.jsx)(oa.a,{strokeDasharray:"3 3"}),Object(S.jsx)(la.a,{dataKey:"officeName"}),Object(S.jsx)(ca.a,{}),Object(S.jsx)(da.a,{}),Object(S.jsx)(pa.a,{}),Object(S.jsx)(ja.a,{dataKey:"numOfUsed",fill:"#279cce"})]})})})]},t)))]})};const ha={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{maxWidth:"600px",minWidth:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main",marginTop:"1%"}};var ua=e=>{const[t,a]=Object(n.useState)(null),r=t=>e.workingUnitList.find((e=>e.id===t)).unitName;return Object(n.useEffect)((()=>{(async function(e){try{const t={dateLength:e},a=await v.post("/admin/anaylitic/top/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}})(e.timeFrame).then((e=>{a(e)}))}),[e.timeFrame]),Object(S.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(S.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(S.jsxs)(D.a,{fullWidth:!0,children:[Object(S.jsx)(ea.a,{id:"time-frame-select-label",children:"Time frame"}),Object(S.jsxs)(R.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(S.jsx)(I.a,{value:30,children:"30 days"}),Object(S.jsx)(I.a,{value:7,children:"7 days"}),Object(S.jsx)(I.a,{value:1,children:"1 day"})]})]})}),Object(S.jsx)(c.a,{sx:ha.contentWrapper,children:e.data&&e.data.map(((e,t)=>Object(S.jsxs)(l.a,{sx:ha.analyticsCardSyles,elevation:3,children:[Object(S.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(S.jsx)(xe.a,{sx:{color:"primary.main",width:"32px",height:"32px",marginRight:"2%"}}),Object(S.jsx)(d.a,{variant:"h5",children:r(e.workingUnitId)})]}),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"Total number of desks:"}),Object(S.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:e.numOfDisableDesks||e.numOfEnableDesks?e.numOfDisableDesks+e.numOfEnableDesks:0})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle1",children:"Available/unavailable:"}),Object(S.jsx)(d.a,{sx:ha.dataTypographyStyles,variant:"h5",children:e.numOfDisableDesks||e.numOfEnableDesks?e.numOfEnableDesks+"/"+e.numOfDisableDesks:0})]})]},t)))}),t&&t.map(((e,t)=>e.length>0&&Object(S.jsxs)(l.a,{sx:ha.analyticsCardSyles,elevation:3,children:[Object(S.jsx)(d.a,{sx:{fontWeight:"bold",marginTop:"2%",textAlign:"center"},gutterBottom:!0,children:"Most used desks in  "+r(e[0].workingUnitId)}),Object(S.jsx)(c.a,{sx:{width:"500px",height:"300px"},children:Object(S.jsx)(sa.a,{width:"100%",height:"100%",children:Object(S.jsxs)(ia.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(S.jsx)(oa.a,{strokeDasharray:"3 3"}),Object(S.jsx)(la.a,{dataKey:"deskName"}),Object(S.jsx)(ca.a,{}),Object(S.jsx)(da.a,{}),Object(S.jsx)(pa.a,{}),Object(S.jsx)(ja.a,{dataKey:"numOfUsed",fill:"#279cce"})]})})})]},t)))]})};const ba={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{width:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main"}};var ga=e=>Object(S.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(S.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(S.jsxs)(D.a,{fullWidth:!0,children:[Object(S.jsx)(ea.a,{id:"time-frame-select-label",children:"Time frame"}),Object(S.jsxs)(R.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(S.jsx)(I.a,{value:30,children:"30 days"}),Object(S.jsx)(I.a,{value:7,children:"7 days"}),Object(S.jsx)(I.a,{value:1,children:"1 day"})]})]})}),Object(S.jsx)(c.a,{sx:ba.contentWrapper,children:e.data&&e.data.map(((t,a)=>{return Object(S.jsxs)(l.a,{sx:ba.analyticsCardSyles,elevation:3,children:[Object(S.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(S.jsx)(ye.a,{sx:{color:"primary.main",width:"36px",height:"36px",marginRight:"2%"}}),Object(S.jsx)(d.a,{variant:"h5",children:(n=t.workingUnitId,e.workingUnitList.find((e=>e.id===n)).unitName)})]}),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(d.a,{variant:"subtitle2",children:"Total number of bookings:"}),Object(S.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:t.numOfTotalSchedules})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Fulfilled/canceled:"}),Object(S.jsx)(d.a,{sx:ba.dataTypographyStyles,variant:"h5",children:(t.numOfSchedules?t.numOfSchedules:0)+"/"+(t.numOfCanceledSchedules?t.numOfCanceledSchedules:0)})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Average number of bookings:"}),Object(S.jsx)(d.a,{sx:ba.dataTypographyStyles,variant:"h5",children:t.avgDailyReservation})]}),Object(S.jsxs)(c.a,{sx:{display:"flex"},children:[Object(S.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Available/Not available parkings:"}),Object(S.jsx)(d.a,{sx:ba.dataTypographyStyles,variant:"h5",children:(t.numOfEnableParkings?t.numOfEnableParkings:0)+"/"+(t.numOfDisableParkings?t.numOfDisableParkings:0)})]})]},a);var n}))})]});const Oa={pageHeadingAnalyticsIcon:{fontSize:"48px",color:"white"},headWrapperBox:{display:"flex",flexWrap:"wrap"}};var fa=()=>{const e=Object(O.g)().location.state.detail,[t,a]=Object(n.useState)("general"),[r,s]=Object(n.useState)(30),[i,o]=Object(n.useState)(null);Object(n.useEffect)((()=>{l(t,r).then((e=>{o(e),console.log(e)}))}),[t,r]);const l=(e,t)=>{switch(e){case"general":return async function(e){try{const t={dateLength:e},a=await v.post("/admin/anaylitic/schedules",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);case"office":return async function(e){try{const t={dateLength:e},a=await v.post("/admin/anaylitic/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);case"desk":return async function(e){try{const t={dateLength:e},a=await v.post("/admin/anaylitic/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);case"parking":return async function(e){try{const t={dateLength:e},a=await v.post("/admin/anaylitic/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);default:console.log("Error happened in request process")}};return Object(S.jsxs)(c.a,{children:[Object(S.jsxs)(c.a,{sx:Oa.headWrapperBox,children:[Object(S.jsx)(c.a,{sx:{minWidth:270},children:Object(S.jsx)(Le,{avatar:Object(S.jsx)(Oe.a,{sx:Oa.pageHeadingAnalyticsIcon}),title:"Analytics",subtitle:"View analytical data."})}),Object(S.jsx)(c.a,{sx:{width:200,marginTop:"1%"},children:Object(S.jsxs)(D.a,{fullWidth:!0,children:[Object(S.jsx)(ea.a,{id:"categories-select-label",children:"Categories"}),Object(S.jsxs)(R.a,{labelId:"categories-select-label",id:"categories-select",value:t,label:"Categories",onChange:e=>{a(e.target.value)},children:[Object(S.jsx)(I.a,{value:"general",children:"General analytics"}),Object(S.jsx)(I.a,{value:"office",children:"Office analytics"}),Object(S.jsx)(I.a,{value:"desk",children:"Desk analytics"}),Object(S.jsx)(I.a,{value:"parking",children:"Parking analytics"})]})]})})]}),Object(S.jsx)(c.a,{sx:Oa.contentWrapper,children:((t,a)=>{switch(t){case"general":return Object(S.jsx)(aa,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});case"office":return Object(S.jsx)(ma,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});case"desk":return Object(S.jsx)(ua,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});case"parking":return Object(S.jsx)(ga,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});default:console.log("Error in the request process")}})(t,i)})]})};a(701);async function ya(e){try{const t=await v.get(`/booking/parking/${e}`),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("GET PARKINGS ERROR",t)}}async function va(e){try{const t={parkingName:e},a=await v.post("/booking/parking/schedules",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("GET PARKING SCHEDULE ERROR",t)}}const Sa={pageHeadingBox:{display:"flex",flexWrap:"wrap"},pageHeadingAvatar:{bgcolor:"primary.main",width:72,height:72},pageHeadingBoxTitle:{color:"primary.main",fontWeight:"600"},pageHeadingBoxSubtitle:{},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24},imageOffice:{display:"block",margin:"auto",maxWidth:"100vh",maxHeight:"95vh",overflow:"auto",padding:"10px"},iconWrapperBox:{paddingLeft:"30px","&:hover":{filter:"brightness(0.7)"}},iconOffice:{width:72,height:72,objectFit:"contain",cursor:"pointer",paddingTop:"25%"}};var wa=e=>{const[t,a]=n.useState(!1),[r,s]=n.useState(null),i=e=>s(e),l=e.map.split(",");return Object(S.jsxs)(Ie.a,{children:[Object(S.jsxs)(Ie.a,{sx:Sa.pageHeadingBox,children:[Object(S.jsx)(Ne.a,{sx:Sa.pageHeadingAvatar,variant:"rounded",children:e.avatar}),Object(S.jsxs)(Ie.a,{sx:{marginLeft:"1%"},children:[Object(S.jsx)(d.a,{variant:"h4",sx:Sa.pageHeadingBoxTitle,children:e.title}),Object(S.jsx)(d.a,{variant:"subtitle1",sx:Sa.pageHeadingBoxSubtitle,children:e.subtitle})]}),e.map&&l.map((e=>Object(S.jsx)(Ie.a,{sx:Sa.iconWrapperBox,onClick:()=>{i(e),a(!0)},children:Object(S.jsx)("img",{style:Sa.iconOffice,src:"/images/map_glass.png",alt:"office map icon"})})))]}),e.map&&Object(S.jsx)(Je.a,{"aria-labelledby":"modal-modal-title","aria-describedby":"modal-description",open:t,onClose:()=>{a(!1),i(null)},closeAfterTransition:!0,BackdropComponent:Ke.a,BackdropProps:{timeout:500},children:Object(S.jsx)(o.a,{in:t,children:Object(S.jsx)(Ie.a,{sx:Sa.modal,children:Object(S.jsx)("img",{style:Sa.imageOffice,src:r,alt:"office map"})})})})]})};const ka={pageHeadingOfficeIcon:{fontSize:"48px",color:"white"},selectWrapper:{minWidth:"150px",width:"100%",marginTop:"20px",display:"flex",flexWrap:"wrap"},contentWrapper:{marginTop:"2%"},calendarWrapper:{paddingLeft:"2%",paddingRight:"2%",paddingBottom:"2%",paddingTop:"1%",height:"75%"},iconStyle:{height:"32px",width:"32px"}};var Ca=()=>{const e=Object(O.g)().location.state.detail,t=Object(It.b)(ze.a),[a,r]=Object(n.useState)(-1),[s,i]=Object(n.useState)(null),[o,p]=Object(n.useState)(null),[j,x]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,b]=Object(n.useState)(null),[g,f]=Object(n.useState)(null),[y,w]=Object(n.useState)(null),{user:k}=we(),[C,T]=Object(n.useState)(null),[W,E]=Object(n.useState)(null),{city:D,office:R}=Object(O.h)(),B=Boolean(j),A=B?"event-popover":void 0,N=Boolean(m),P=N?"create-popover":void 0,L=Boolean(u),M=L?"add-desk-popover":void 0;Object(n.useEffect)((()=>{ya(e.unitName).then((e=>{console.log(e),i(e)})).catch((e=>{console.log(e)}))}),[]);const z=e=>{const t=[];return e.map((e=>{let a={id:e.id,title:`${e.user.firstName} ${e.user.lastName}`,start:ze()(e.dateFrom).toDate(),end:ze()(e.dateTo).toDate(),resource:{userID:e.user.id,user:e.user,desk:e.desk}};t.push(a)})),t},Z=e=>{(async function(e){let t={id:e};try{const e=await v.post("/booking/parking/disable",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("PARKING DELETE ERROR",a)}})(e).then((e=>{va(s.find((e=>e.id===a)).name).then((e=>{p(z(e))}))}))},U=()=>{T(null)},F=e=>{e.parkingName=e.deskName,delete e.deskName,async function(e){try{const t=await v.post("/booking/parking/reservation",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("PARKING RESERVATION ERROR",t)}}(e).then((e=>{va(s.find((e=>e.id===a)).name).then((e=>{p(z(e))}))}))},H=t=>{(async function(e,t,a){try{const n={name:`${e}`,workingUnit:t,available:a},r=await v.post("/admin/add/parking",n),{data:s}=r;return Promise.resolve(s)}catch(n){console.log("ERROR ADDING PARKING",n)}})(t,e,!0).then((t=>{ya(e.unitName).then((e=>i(e)))}))},G=t=>{t?async function(e){try{const t={name:`${e}`},a=await v.post("/admin/disable/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING DESK",t)}}(W.name).then((t=>{ya(e.unitName).then((e=>{i(e),r(-1),console.log(e)}))})):async function(e){try{const t={name:`${e}`},a=await v.post("/admin/activate/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING PARKING",t)}}(W.name).then((t=>{ya(e.unitName).then((e=>i(e)))}))},Y=t=>{(async function(e){try{const t={name:`${e}`},a=await v.post("/admin/remove/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR REMOVING PARKING",t)}})(t).then((t=>{ya(e.unitName).then((e=>i(e)))}))};return Object(n.useEffect)((()=>{ya(e.unitName).then((e=>{i(e),r(-1)})).catch((e=>{console.log(e)}))}),[e]),Object(S.jsxs)(c.a,{children:[Object(S.jsx)(wa,{avatar:Object(S.jsx)(Qe.a,{sx:ka.pageHeadingOfficeIcon}),title:e.unitName,subtitle:e.unitAddress,map:e.parkingMap}),Object(S.jsx)(c.a,{sx:ka.selectWrapper,children:s&&Object(S.jsxs)(S.Fragment,{children:[s.map((e=>Object(S.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(S.jsx)(Et,{selectedDeskId:a,handleSelect:(e,t)=>((e,t)=>{e&&(r(t),va(s.find((e=>e.id===t)).name).then((e=>{p(z(e)),console.log(e),console.log(z(e)+"eeeeee")})))})(e,t),desk:e,icon:Object(S.jsx)(ye.a,{sx:ka.iconStyle})}),k.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsx)(at.a,{sx:{color:"success.main","&:hover":{filter:"brightness(0.9)"},marginLeft:"30%"},size:"small",onClick:t=>((e,t)=>{E(t),T(e.currentTarget)})(t,e)})]},e.name))),Object(S.jsx)(c.a,{sx:{display:"flex",flexDirection:"column",marginTop:"4%",marginLeft:"1%"},children:k.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(se.a,{id:"menu-settings",anchorEl:C,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(C),onClose:U,children:[W&&(W.available?Object(S.jsx)(I.a,{onClick:()=>{G(W.available),U()},children:"Disable"}):Object(S.jsx)(I.a,{onClick:()=>{G(W.available),U()},children:"Enable"})),Object(S.jsx)(I.a,{onClick:()=>{Y(W.name),U()},children:"Remove"})]}),k.roles.find((e=>2===e.id||3===e.id))&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Jt.a,{onClick:e=>(e=>{b(e.currentTarget)})(e),sx:{color:"success.main",marginTop:"3%","&:hover":{filter:"brightness(0.9)"}},size:"small"}),Object(S.jsx)(Xt,{deskPopoverID:M,openDeskPopover:L,anchorDeskPopover:u,handleAddDeskClose:()=>{b(null)},handleEventAddDesk:e=>H(e)})]})]})})]})}),Object(S.jsxs)(c.a,{sx:ka.contentWrapper,children:[-1===a&&Object(S.jsx)(d.a,{variant:"h4",sx:{color:"primary.main",fontWeight:"bold"},children:"Select a parking space!"}),-1!==a&&Object(S.jsxs)(l.a,{sx:ka.calendarWrapper,children:[Object(S.jsx)(c.a,{sx:{display:"flex",justifyContent:"end"},children:Object(S.jsxs)(ut.a,{onClick:e=>(e=>{h(e.currentTarget)})(e),"aria-describedby":P,variant:"extended",size:"medium",color:"primary","aria-label":"add",children:[Object(S.jsx)(Rt.a,{sx:{mr:1}}),"BOOKING"]})}),Object(S.jsx)(It.a,{events:o||[],showMultiDayTimes:!0,defaultView:"week",views:["week"],localizer:t,onSelectEvent:(e,t)=>((e,t)=>{w(e),f(e.resource.userID),x(t.currentTarget)})(e,t),eventPropGetter:e=>e.resource.userID===k.id?e.end>new Date?{ariaDescribedby:{eventPopoverID:A},className:"user-event",style:{backgroundColor:"#21DA6C",border:"none"}}:{ariaDescribedby:{eventPopoverID:A},className:"user-event-past",style:{backgroundColor:"#21DA6C",border:"none",filter:"brightness(0.8)"}}:{ariaDescribedby:{eventPopoverID:A},className:"current-user-event",style:{backgroundColor:"#279cce",border:"none"}}})]}),Object(S.jsx)(Mt,{event:y,selectedEventEndDate:y?y.end:new Date,eventUserID:g,currentUserID:k.id,currentUserRoles:k.roles,eventPopoverID:A,openEventPopover:B,anchorEventPopover:j,handleEventClose:()=>{x(null)},handleEventDelete:e=>Z(e)}),Object(S.jsx)(Gt,{currentUserUsername:k.username,selectedDesk:s?s.find((e=>e.id===a)):null,currentUserID:k.id,currentUserName:`${k.firstName} ${k.lastName}`,allEvents:o,handleSetNewEvent:e=>F(e),createPopoverID:P,openCreatePopover:N,anchorCreatePopover:m,handleCreateClose:()=>{h(null)}})]})]})};const Ta=Object(T.a)({palette:{background:{default:"#D2D7D9",paper:"white"},primary:{main:"#279cce",contrastText:"#fff",backgroudColor:"rgb(242, 245, 249)"},secondary:{main:"#384ED5",contrastText:"#fff"},error:{main:"#FF5026",contrastText:"#fff"},warning:{main:"#FFC226",contrastText:"#fff"},success:{main:"#21DA6C",contrastText:"#fff"}},typography:{fontFamily:"'Lato', sans-serif"}});var Wa=function(){const[e,t]=Object(n.useState)(null);return Object(n.useEffect)((()=>{const e=sessionStorage.getItem("token");t(e)}),[e]),Object(S.jsx)(W.a,{theme:Ta,children:Object(S.jsx)(C.a,{children:e?Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(Re,{contentComponents:Object(S.jsxs)(O.d,{children:[Object(S.jsx)(O.b,{exact:!0,path:"/",component:Ye}),Object(S.jsx)(O.b,{exact:!0,path:"/booking/:city",component:pt}),Object(S.jsx)(O.b,{exact:!0,path:"/users",component:ft}),Object(S.jsx)(O.b,{exact:!0,path:"/profile",component:Tt}),Object(S.jsx)(O.b,{exact:!0,path:"/analytics",component:fa}),Object(S.jsx)(O.b,{exact:!0,path:"/booking/:city/:office",component:qt}),Object(S.jsx)(O.b,{exact:!0,path:"/parking/:city",component:Ca}),Object(S.jsx)(O.a,{to:"/"})]}),logOut:()=>{sessionStorage.removeItem("refresh_token"),sessionStorage.removeItem("token"),t(void 0)}})}):Object(S.jsx)("div",{className:"non-auth-background",children:Object(S.jsxs)(O.d,{children:[Object(S.jsx)(O.b,{path:"/reset",children:Object(S.jsx)(_t,{})}),Object(S.jsx)(O.b,{path:"/login",children:Object(S.jsx)(k,{logIn:e=>{t(e)}})}),Object(S.jsx)(O.b,{path:"/register",children:Object(S.jsx)(z,{})}),Object(S.jsx)(O.a,{to:"/login"})]})})})})};i.a.render(Object(S.jsx)(Wa,{}),document.getElementById("root"))}},[[702,1,2]]]);
//# sourceMappingURL=main.4028139a.chunk.js.map