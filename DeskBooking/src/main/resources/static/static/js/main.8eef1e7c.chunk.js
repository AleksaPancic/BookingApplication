/*! For license information please see main.8eef1e7c.chunk.js.LICENSE.txt */
(this["webpackJsonpdesk-booking-app"]=this["webpackJsonpdesk-booking-app"]||[]).push([[0],{449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},701:function(e,t,a){},702:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),i=a.n(s),o=(a(449),a(450),a(451),a(770)),l=a(802),c=a(808),d=a(204),p=a(798),j=a(799),x=a(814),m=a(123),h=a.n(m),u=a(148),b=a.n(u),g=a.p+"static/media/deskbookIng.31a21337.png",O=a(18),f=a(201),y=a.n(f);const v="http://localhost:8080";var S=new class{constructor(){this.instance=y.a.create({baseURL:v}),this.instance.interceptors.response.use((e=>e),(async function(e){const t=e.config;if(401===e.response.status&&!t._retry)return t._retry=!0,y.a.get(`${v}/profile/token/refresh`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("refresh_token")}`}}).then((e=>{if(200===e.status)return sessionStorage.setItem("token",e.data.access_token),sessionStorage.setItem("refresh_token",e.data.refresh_token),t.headers.Authorization=`Bearer ${sessionStorage.getItem("token")}`,y()(t)}))})),this.instance.interceptors.request.use((e=>("/login"!==e.url&&"/register"!==e.url&&"/reset"!==e.url&&(e.headers.Authorization=`Bearer ${sessionStorage.getItem("token")}`),e)))}}({}).instance;var w=a(1);const k={transitionStyle:{transitionDelay:"300ms"},paperStyle:{width:"42vh",height:"460px",minWidth:"200px",minHeight:"230px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"2%"},formTitleStyle:{textAlign:"start",fontWeight:"bold"},formSubtitleStyle:{textAlign:"start"},buttonStyle:{marginTop:"5%"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"4%"},appLogoStyleBox:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"4%"},signInButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"17px","&:hover":{textDecoration:"underline"}},resetButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"9px","&:hover":{textDecoration:"underline"}}};var C=e=>{const[t,a]=Object(n.useState)({username:"",password:""}),[r,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[u,f]=Object(n.useState)(""),y=Object(O.g)(),v=Object(n.useCallback)((e=>{13===e.keyCode&&C()}),[t]);Object(n.useEffect)((()=>(window.addEventListener("keypress",v),()=>{window.removeEventListener("keypress",v)})),[v]);const C=()=>{s(""),m("");const a=W(t.username);if(a.err)m(a.errMsg);else{const a=T(t.password);a.err?s(a.errMsg):async function(e,t){var a=new FormData;a.append("username",e),a.append("password",t);try{const e=await S.post("/login",a),{data:t}=e;if(void 0!==t.access_token&&void 0!==t.refresh_token)return sessionStorage.setItem("token",t.access_token),sessionStorage.setItem("refresh_token",t.refresh_token),Promise.resolve(t);throw new Error("LOGIN ERROR")}catch(u){return Promise.reject(`${u.message}: Wrong username or password`)}}(t.username,t.password).then((t=>{e.logIn(t)})).catch((e=>{f(e)}))}},T=e=>e.length<4?{err:!0,errMsg:"Password must be at least 4 characters long!"}:{err:!1,errMsg:""},W=e=>0===e.length?{err:!0,errMsg:"Enter your username!"}:{err:!1,errMsg:""};return Object(w.jsx)(o.a,{style:k.transitionStyle,in:!0,appear:!0,children:Object(w.jsxs)(l.a,{sx:k.paperStyle,elevation:5,children:[Object(w.jsx)(c.a,{sx:k.appLogoStyleBox,children:Object(w.jsx)("img",{src:g,alt:"deskbooking",className:"login-app-logo"})}),Object(w.jsx)(d.a,{sx:k.formTitleStyle,variant:"h5",children:"Login"}),Object(w.jsxs)(d.a,{sx:k.formSubtitleStyle,variant:"subtitle1",children:["Don't have an account yet?",Object(w.jsx)(p.a,{sx:k.signInButtonStyle,onClick:()=>y.push("/register"),children:"SIGN UP"})]}),Object(w.jsxs)(c.a,{sx:k.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your username"}),Object(w.jsx)(j.a,{value:t.username,onChange:e=>a({...t,username:e.target.value}),sx:k.textFieldStyle,error:i.length>0,helperText:i,id:"username",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(h.a,{})})}})]}),Object(w.jsxs)(c.a,{sx:k.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your password"}),Object(w.jsx)(j.a,{value:t.password,onChange:e=>a({...t,password:e.target.value}),sx:k.textFieldStyle,error:r.length>0,helperText:r,id:"password",type:"password",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(b.a,{})})}}),u.length>0&&Object(w.jsx)(d.a,{variant:"body",color:"error.main",gutterBottom:!0,children:u})]}),Object(w.jsx)(p.a,{sx:k.buttonStyle,variant:"contained",onClick:()=>C(),children:"Login"}),Object(w.jsx)(p.a,{sx:k.resetButtonStyle,onClick:()=>y.push("/reset"),children:"Forgot password?"})]})})},T=a(410),W=a(411),E=a(795),D=(a(479),a(779)),R=a(811),I=a(796),B=a(815),A=a(816),N=a(378),P=a.n(N),L=a(379),M=a.n(L);const z={transitionStyle:{transitionDelay:"300ms"},paperStyle:{width:"60vh",height:"100%",minWidth:"200px",minHeight:"230px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"1%"},formTitleStyle:{textAlign:"start",fontWeight:"bold",marginLeft:"2%",marginTop:"2%"},formSubtitleStyle:{textAlign:"start",marginLeft:"2%"},formLogInButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"17px","&:hover":{textDecoration:"underline"}},inputBoxWrapperStyle:{width:"100%",marginRight:"2%",marginLeft:"2%",marginTop:"2%"},rowInputElementsWrapper:{display:"flex"},signUpButtonWrapper:{display:"flex",justifyContent:"center"},signUpButtonStyle:{marginTop:"4%",width:"50%"},dividerStyle:{marginTop:"3%"}};var Z=e=>{const t=Object(O.g)(),[a,r]=Object(n.useState)({firstName:"",lastName:"",email:"",telephone:"",username:"",password:"",confirmPassword:"",workingUnitName:""}),[s,i]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[g,f]=Object(n.useState)(!1),[y,v]=Object(n.useState)(""),[k,C]=Object(n.useState)(""),[T,W]=Object(n.useState)(""),[E,N]=Object(n.useState)(""),[L,Z]=Object(n.useState)(""),[U,F]=Object(n.useState)(""),[H,G]=Object(n.useState)(""),Y=()=>{u(""),i(""),v(""),C(""),W(""),N(""),Z(""),F("");const e=q(a.username),t=X(a.password),n=Q(a.email),r=$(a.telephone),s=_(a.firstName),o=ee(a.lastName),l=V(a.confirmPassword);e.err||t.err||n.err||r.err||s.err||o.err||l.err?(G(l.errMsg),C(o.errMsg),v(s.errMsg),N(r.errMsg),W(n.errMsg),F(t.errMsg),Z(e.errMsg)):(f(!0),async function(e){try{const t=await S.post("/register",e),{data:a}=t;if(void 0!==a)return Promise.resolve(a);throw new Error("REGISTRATION ERROR")}catch(m){return Promise.reject("Username alredy taken")}}(a).then((e=>{i("Successfull registration, check your email for confirmation")})).catch((e=>{u("Error "+e)})).finally((()=>{f(!1)})))},J=Object(n.useCallback)((e=>{13===e.keyCode&&Y()}),[a]);var K;Object(n.useEffect)((()=>(window.addEventListener("keypress",J),()=>{window.removeEventListener("keypress",J)})),[J]);const X=e=>{var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])");return e.length<8||e.length>30?{err:!0,errMsg:"Password must be at least 8 and maximum 30 characters long!"}:t.test(e)?(K=e,{err:!1,errMsg:""}):{err:!0,errMsg:"Password must contain number, lowercase, uppercase alphabetical and special character!"}},V=e=>K!==e?{err:!0,errMsg:"Password does not match!"}:{err:!1,errMsg:""},q=e=>{var t=new RegExp(/^[a-zA-Z0-9]+$/g);return 0===e.length?{err:!0,errMsg:"Enter your username!"}:t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Only alphabetic characters and numbers are allowed!"}},Q=e=>0!==e.length&&e.endsWith("@enjoying.rs")?{err:!1,errMsg:""}:{err:!0,errMsg:"You must be part of Enjoy.ing team to use this application!"},$=e=>{var t=new RegExp(/^[0-9 +]+$/);return 0!==e.length&&t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Invalid phone number!"}},_=e=>{var t=new RegExp(/^[a-zA-Z]+$/g);return 0!==e.length&&t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Only alphabetic characters are allowed!"}},ee=e=>{var t=new RegExp(/^[a-zA-Z]+$/g);return 0!==e.length&&t.test(e)?{err:!1,errMsg:""}:{err:!0,errMsg:"Only alphabetic characters are allowed!"}};return Object(w.jsx)(o.a,{style:z.transitionStyle,in:!0,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(w.jsxs)(l.a,{sx:z.paperStyle,elevation:5,children:[Object(w.jsx)(d.a,{sx:z.formTitleStyle,variant:"h4",children:"Sign Up"}),Object(w.jsxs)(d.a,{sx:z.formSubtitleStyle,variant:"subtitle1",children:["Already a user?",Object(w.jsx)(p.a,{sx:z.formLogInButtonStyle,onClick:()=>t.push("/login"),children:"LOG IN"})]}),Object(w.jsxs)(c.a,{sx:z.rowInputElementsWrapper,children:[Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your First Name"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.firstName,onChange:e=>r({...a,firstName:e.target.value}),sx:z.textFieldStyle,error:y.length>0,helperText:y,id:"firstName",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start"})}})]}),Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your Last Name"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.lastName,onChange:e=>r({...a,lastName:e.target.value}),sx:z.textFieldStyle,error:k.length>0,helperText:k,id:"lastName",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start"})}})]})]}),Object(w.jsx)(D.a,{variant:"middle",sx:z.dividerStyle}),Object(w.jsxs)(c.a,{sx:z.rowInputElementsWrapper,children:[Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your enjoy.ing email"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.email,onChange:e=>r({...a,email:e.target.value}),sx:z.textFieldStyle,error:T.length>0,helperText:T,id:"email",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(P.a,{})})}})]}),Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your username"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.username,onChange:e=>r({...a,username:e.target.value}),sx:z.textFieldStyle,error:L.length>0,helperText:L,id:"username",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(h.a,{})})}})]})]}),Object(w.jsx)(D.a,{variant:"middle",sx:z.dividerStyle}),Object(w.jsxs)(c.a,{sx:z.rowInputElementsWrapper,children:[Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your password"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.password,onChange:e=>r({...a,password:e.target.value}),sx:z.textFieldStyle,error:U.length>0,helperText:U,id:"password",type:"password",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(b.a,{})})}})]}),Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Confirm your password"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.confirmPassword,onChange:e=>r({...a,confirmPassword:e.target.value}),sx:z.textFieldStyle,error:H.length>0,helperText:H,id:"confirmPassword",type:"password",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(b.a,{})})}})]})]}),Object(w.jsx)(D.a,{variant:"middle",sx:z.dividerStyle}),Object(w.jsxs)(c.a,{sx:z.rowInputElementsWrapper,children:[Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your phone number"}),Object(w.jsx)(j.a,{fullWidth:!0,size:"small",value:a.telephone,onChange:e=>r({...a,telephone:e.target.value}),sx:z.textFieldStyle,error:E.length>0,helperText:E,id:"telephone",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(M.a,{})})}})]}),Object(w.jsxs)(c.a,{sx:z.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Your working unit"}),Object(w.jsx)(R.a,{fullWidth:!0,children:Object(w.jsxs)(I.a,{size:"small",defaultValue:"",id:"workingUnitName",onChange:e=>r({...a,workingUnitName:e.target.value}),children:[Object(w.jsx)(B.a,{value:"Nis Office",children:"Nis"}),Object(w.jsx)(B.a,{value:"Beograd Office",children:"Beograd"}),Object(w.jsx)(B.a,{value:"Kragujevac Office",children:"Kragujevac"})]})})]})]}),Object(w.jsxs)(c.a,{sx:{marginTop:"2%",display:"flex",justifyContent:"center"},children:[g&&Object(w.jsx)(A.a,{size:30}),s.length>0&&Object(w.jsxs)(d.a,{sx:{color:"success.main"},children:[" ",s," "]}),m.length>0&&Object(w.jsxs)(d.a,{sx:{color:"error.main"},children:[" ",m," "]})]}),Object(w.jsx)(c.a,{sx:z.signUpButtonWrapper,children:Object(w.jsx)(p.a,{sx:z.signUpButtonStyle,variant:"contained",onClick:()=>Y(),children:"Sign up!"})})]})})},U=(a(480),a(813)),F=a(780),H=a(781),G=a(782),Y=a(817),J=a(783),K=a(818),X=a(819),V=a(820),q=a(805),Q=a(388),$=a.n(Q),_=a(387),ee=a.n(_),te=a(385),ae=a.n(te),ne=a(386),re=a.n(ne),se=a(88),ie=a(412),oe=a(381),le=a.n(oe),ce=a(382),de=a.n(ce);const pe={menuStyle:{padding:"5%"},menuItemStyle:{marginLeft:"25px",marginRight:"25px","&:hover":{color:"primary.main"}},avatarWrapper:{display:"flex",justifyContent:"center",marginTop:"5px",marginLeft:"25px",marginRight:"25px"},dividerStyle:{marginTop:"10%"},nameStyle:{fontWeight:"bold",color:"primary.main"},menyItemIconStyle:{marginRight:"5%"},nameUsernameWrapper:{marginLeft:"10px",display:"flex",flexDirection:"column"}};var je=e=>{const t=Object(O.g)();return Object(w.jsxs)(ie.a,{sx:pe.menuStyle,anchorEl:e.anchorMenuEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:e.menuId,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:e.isMenuOpen,onClose:e.handleAnchorMenuClose,children:[Object(w.jsxs)(c.a,{sx:pe.avatarWrapper,children:[Object(w.jsx)(se.a,{name:e.user.firstName+" "+e.user.lastName,options:{shape:"square",twoLetter:!0,size:60}}),Object(w.jsxs)(c.a,{sx:pe.nameUsernameWrapper,children:[Object(w.jsx)(d.a,{sx:pe.nameStyle,variant:"subtitle1",children:e.user.firstName+" "+e.user.lastName}),Object(w.jsx)(d.a,{sx:pe.usernameStyle,variant:"subtitle2",children:e.user.username})]})]}),Object(w.jsx)(D.a,{variant:"middle",sx:pe.dividerStyle}),Object(w.jsxs)(B.a,{sx:pe.menuItemStyle,onClick:()=>{t.push("/profile"),e.handleAnchorMenuClose()},children:[Object(w.jsx)(le.a,{sx:pe.menyItemIconStyle})," My Profile"]}),Object(w.jsxs)(B.a,{sx:pe.menuItemStyle,onClick:e.logOut,children:[Object(w.jsx)(de.a,{sx:pe.menyItemIconStyle})," Log Out"]})]})},xe=a(107),me=a.n(xe),he=a(383),ue=a.n(he),be=a(384),ge=a.n(be),Oe=a(124),fe=a.n(Oe),ye=a(125),ve=a.n(ye);const Se={itemsList:[{id:0,adminOption:!1,urlFragment:"/",icon:Object(w.jsx)(ue.a,{}),itemText:"Home",suboptions:!1},{id:1,adminOption:!0,urlFragment:"/analytics",icon:Object(w.jsx)(fe.a,{}),itemText:"Analytics",suboptions:!1},{id:2,adminOption:!1,urlFragment:"/booking",icon:Object(w.jsx)(me.a,{}),itemText:"Booking",suboptions:!0},{id:3,adminOption:!1,urlFragment:"/users",icon:Object(w.jsx)(ge.a,{}),itemText:"Users",suboptions:!1},{id:4,adminOption:!1,urlFragment:"/parking",icon:Object(w.jsx)(ve.a,{}),itemText:"Parking",suboptions:!0}]},we=Object(n.createContext)({user:{},setUser:()=>{}});function ke(){return Object(n.useContext)(we)}var Ce=e=>Object(w.jsx)(we.Provider,{value:e.value,children:e.children});async function Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;try{const a=await S.get("/profile/view/user/list?pageNo="+e+"&pageSize="+t),{data:n}=a;return Promise.resolve(n)}catch(a){console.log("ERROR GETTING USER LIST",a)}}async function We(e){let t=e.replace(" Office","");try{const e=await S.get(`/booking/${t}`),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("LOGIN ERROR",a)}}async function Ee(e,t){try{const a=await S.get(`/booking/${t}/${e}`),{data:n}=a;return Promise.resolve(n)}catch(a){console.log("LOGIN ERROR",a)}}async function De(e){try{const t={deskName:e},a=await S.post("/booking/schedules",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("LIMITED SCHEDULE ERROR",t)}}const Re={appBar:{zIndex:e=>e.zIndex.drawer+1,display:"flex",paddingTop:"7px",paddingBottom:"7px"},drawerStyle:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"},display:{xs:"none",md:"block"}},mobileDrawerStyle:{zIndex:e=>e.zIndex.drawer+1,display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},toolbarStyle:{display:"flex",justifyContent:"space-between"},appBarButtonStyle:{color:"white"},listItemStyle:{"&:hover":{color:"primary.main"}},subitemListItemStyle:{pl:4,"&:hover":{color:"primary.main"}},listItemStyleSelected:{color:"primary.main"},subitemListItemStyleSelected:{color:"primary.main",pl:4},listIconColorStyle:{color:"#121212"},listItemTypographyStyle:{fontWeight:"600"},appLogoStyleBox:{"&:hover":{cursor:"pointer"}},welcomeTitleStyle:{marginTop:"2%",fontWeight:"bold",color:"primary.main",padding:"5%"},drawerNameStyle:{fontWeight:"bold",color:"primary.main",marginLeft:"10%",marginTop:"10%"},drawerUsernameStyle:{fontWeight:"bold",marginLeft:"10%"},drawerProfileInfoBox:{display:"flex",flexDirection:"column","&:hover":{cursor:"pointer"}}};var Ie=e=>{const t=Object(O.g)(),[a,r]=Object(n.useState)(!1),[s,i]=Object(n.useState)(0),[o,l]=Object(n.useState)(-1),[j,x]=Object(n.useState)(null),[m,h]=Object(n.useState)(!1),[u,b]=Object(n.useState)(null),{window:g}=e,[f,y]=Object(n.useState)({}),v={user:f,setUser:y},k=Boolean(j),C=void 0!==g?()=>g().document.body:void 0,T=()=>{r(!a)};Object(n.useEffect)((()=>{(async function(){try{const e=await S.get("/profile/view"),{data:t}=e;return Promise.resolve(t)}catch(e){console.log("LOGIN ERROR",e)}})().then((e=>{y(e)})).catch((e=>{console.log(e)}))}),[]),Object(n.useEffect)((()=>{(async function(){try{const e=await S.get("/booking"),{data:t}=e;return Promise.resolve(t)}catch(e){console.log("LOGIN ERROR",e)}})().then((e=>{b(e)})).catch((e=>{console.log(e)}))}),[]);const W=Object(w.jsxs)(c.a,{sx:{overflow:"auto",marginTop:"16px"},children:[Object(w.jsxs)(c.a,{onClick:()=>t.push("/profile"),sx:Re.drawerProfileInfoBox,children:[Object(w.jsx)(d.a,{sx:Re.drawerNameStyle,variant:"h5",children:f.firstName+" "+f.lastName}),Object(w.jsx)(d.a,{sx:Re.drawerUsernameStyle,variant:"subtitle1",children:f.username})]}),Object(w.jsx)(D.a,{variant:"middle"}),Object(w.jsx)(U.a,{sx:{marginTop:"8px"},onClick:()=>r(!1),children:f.roles&&Se.itemsList.map((e=>(!e.adminOption||f.roles.find((e=>2===e.id||3===e.id)))&&Object(w.jsxs)(n.Fragment,{children:[Object(w.jsxs)(F.a,{selected:s===e.id,className:"list-item-drawer",sx:s===e.id?Re.listItemStyleSelected:Re.listItemStyle,onClick:()=>{var a;e.suboptions?(a=e.id,s!==a?(i(a),h(!0)):h(!m)):((e,a)=>{l(-1),i(e),t.push(a,{detail:u})})(e.id,e.urlFragment)},children:[Object(w.jsx)(H.a,{sx:s===e.id?Re.listItemStyleSelected:Re.listIconColorStyle,className:"list-item-drawer-icon",children:e.icon}),Object(w.jsx)(G.a,{primaryTypographyProps:Re.listItemTypographyStyle,primary:e.itemText}),e.suboptions&&(m&&s===e.id?Object(w.jsx)(ae.a,{}):Object(w.jsx)(re.a,{}))]}),e.suboptions&&u&&Object(w.jsx)(Y.a,{in:m&&s===e.id,timeout:"auto",unmountOnExit:!0,children:Object(w.jsx)(U.a,{component:"div",disablePadding:!0,children:u.map((a=>Object(w.jsx)(n.Fragment,{children:(4!==e.id||null!==a.parkingMap)&&Object(w.jsx)(F.a,{onClick:()=>((e,a)=>{l(e.id),t.push(`${a}/${e.city}`,{detail:e})})(a,e.urlFragment),sx:o===a.id?Re.subitemListItemStyleSelected:Re.subitemListItemStyle,children:Object(w.jsx)(G.a,{primary:a.unitName,primaryTypographyProps:Re.listItemTypographyStyle})})},a.unitName)))})})]},e.itemText)))})]});return Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(J.a,{}),Object(w.jsxs)(K.a,{position:"fixed",sx:Re.appBar,children:[Object(w.jsxs)(X.a,{sx:Re.toolbarStyle,children:[Object(w.jsx)(c.a,{sx:Re.appLogoStyleBox,onClick:()=>{i(0),t.push("/")},children:Object(w.jsx)("img",{src:"data:image/png;base64,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",alt:"deskbooking",className:"app-logo-white"})}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsxs)(p.a,{sx:Re.appBarButtonStyle,"aria-label":"account of current user","aria-haspopup":"true",onClick:e=>{x(e.currentTarget)},children:[Object(w.jsx)(se.a,{name:f.firstName+" "+f.lastName,options:{twoLetter:!0,size:42}}),Object(w.jsx)(ee.a,{})]}),Object(w.jsx)(V.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:T,sx:{mr:2,display:{md:"none"}},children:Object(w.jsx)($.a,{})})]})]}),Object(w.jsx)(je,{anchorMenuEl:j,handleAnchorMenuClose:()=>{x(null)},logOut:()=>e.logOut(),isMenuOpen:k,menuId:"primary-anchor-account-menu",user:f})]}),Object(w.jsxs)(q.a,{variant:"permanent",sx:Re.drawerStyle,open:!0,children:[Object(w.jsx)(X.a,{}),W]}),Object(w.jsx)(q.a,{container:C,variant:"temporary",open:a,onClose:T,ModalProps:{keepMounted:!0},sx:Re.mobileDrawerStyle,children:W}),Object(w.jsxs)(c.a,{component:"main",sx:{flexGrow:1,p:3,marginTop:"16px"},children:[Object(w.jsx)(X.a,{}),Object(w.jsx)(Ce,{value:v,children:e.contentComponents})]})]})},Be=a(806),Ae=(a(481),a(389)),Ne=a.n(Ae),Pe=a(807);a(482);const Le={pageHeadingBox:{display:"flex"},pageHeadingAvatar:{bgcolor:"primary.main",width:72,height:72},pageHeadingBoxTitle:{color:"primary.main",fontWeight:"600"},pageHeadingBoxSubtitle:{}};var Me=e=>Object(w.jsxs)(Be.a,{sx:Le.pageHeadingBox,children:[Object(w.jsx)(Pe.a,{sx:Le.pageHeadingAvatar,variant:"rounded",children:e.avatar}),Object(w.jsxs)(Be.a,{sx:{marginLeft:"1%"},children:[Object(w.jsx)(d.a,{variant:"h4",sx:Le.pageHeadingBoxTitle,children:e.title}),Object(w.jsx)(d.a,{variant:"subtitle1",sx:Le.pageHeadingBoxSubtitle,children:e.subtitle})]})]}),ze=a(40),Ze=a.n(ze),Ue=a(821),Fe=a(822),He=a(823);async function Ge(e){let t={user:e};try{const e=await S.post("/schedule",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("SCHEDULE ERROR",a)}}const Ye={pageHeadingHomeIcon:{fontSize:"48px",color:"white"},cardStyle:{marginTop:"2%",maxWidth:"500px",borderStyle:"solid",borderWidth:"2px",borderColor:"primary.main"},titleTypographyStyle:{fontWeight:"bold"},deskTypographyStyle:{fontWeight:"bold"},deleteButton:{fontWeight:"bold"}};var Je=()=>{const[e,t]=Object(n.useState)(null),{user:a}=ke();function r(e){(async function(e){let t={id:e};try{const e=await S.post("/schedule/disable",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("DISABLED SCHEDULE ERROR",a)}})(e).then((e=>{Ge(a.username).then((e=>{console.log(e),t(e)}))}))}return Object(n.useEffect)((()=>{a.username&&Ge(a.username).then((e=>{t(e)}))}),[a.username]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Me,{avatar:Object(w.jsx)(Ne.a,{sx:Ye.pageHeadingHomeIcon}),title:"Home",subtitle:"Here you can see all your bookings!"}),Object(w.jsx)(Be.a,{children:e&&e.map((e=>Object(w.jsxs)(Ue.a,{sx:Ye.cardStyle,elevation:3,children:[Object(w.jsxs)(Fe.a,{children:[Object(w.jsx)(d.a,{variant:"h5",sx:Ye.titleTypographyStyle,color:"primary.main",children:e.workingUnitName+" - "+e.officeName}),Object(w.jsx)(d.a,{variant:"body1",sx:Ye.deskTypographyStyle,color:"secondary.main",children:e.deskName}),Object(w.jsx)(d.a,{variant:"body1",sx:Ye.dateStyle,children:Ze()(e.dateFrom).format("D MMM YYYY")+" from "+Ze()(e.dateFrom).format("HH:mm")+" to "+Ze()(e.dateTo).format("HH:mm")})]}),!(Ze()(e.dateFrom)<Ze()())&&Object(w.jsx)(He.a,{children:Object(w.jsx)(p.a,{sx:Ye.deleteButton,variant:"outlined",color:"error",onClick:()=>r(e.id),children:"CANCEL"})})]},e.id)))})]})},Ke=a(797),Xe=a(812);const Ve={pageHeadingBox:{display:"flex",flexWrap:"wrap"},pageHeadingAvatar:{bgcolor:"primary.main",width:72,height:72},pageHeadingBoxTitle:{color:"primary.main",fontWeight:"600"},pageHeadingBoxSubtitle:{},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24},imageOffice:{display:"block",margin:"auto",maxWidth:"100vh",maxHeight:"95vh",overflow:"auto",padding:"40px"},iconWrapperBox:{paddingLeft:"50px","&:hover":{filter:"brightness(0.7)"}},iconOffice:{width:72,height:72,objectFit:"contain",cursor:"pointer",paddingTop:"25%"}};var qe=e=>{const[t,a]=n.useState(!1);return Object(w.jsxs)(Be.a,{children:[Object(w.jsxs)(Be.a,{sx:Ve.pageHeadingBox,children:[Object(w.jsx)(Pe.a,{sx:Ve.pageHeadingAvatar,variant:"rounded",children:e.avatar}),Object(w.jsxs)(Be.a,{sx:{marginLeft:"1%"},children:[Object(w.jsx)(d.a,{variant:"h4",sx:Ve.pageHeadingBoxTitle,children:e.title}),Object(w.jsx)(d.a,{variant:"subtitle1",sx:Ve.pageHeadingBoxSubtitle,children:e.subtitle})]}),e.map&&Object(w.jsx)(Be.a,{sx:Ve.iconWrapperBox,onClick:()=>a(!0),children:Object(w.jsx)("img",{style:Ve.iconOffice,src:"http://localhost:8080/images/map_glass.png",alt:"office map icon"})})]}),e.map&&Object(w.jsx)(Ke.a,{"aria-labelledby":"modal-modal-title","aria-describedby":"modal-description",open:t,onClose:()=>a(!1),closeAfterTransition:!0,BackdropComponent:Xe.a,BackdropProps:{timeout:500},children:Object(w.jsx)(o.a,{in:t,children:Object(w.jsx)(Be.a,{sx:Ve.modal,children:Object(w.jsx)("img",{style:Ve.imageOffice,src:e.map,alt:"office map"})})})})]})},Qe=(a(483),a(190)),$e=a.n(Qe),_e=a(824);const et={cardStyle:{minWidth:"250px",marginTop:"2%",marginBottom:"2%",marginRight:"2%",borderRadius:"8px","&:hover":{filter:"brightness(0.9)"}},cardDisabledStyle:{minWidth:"250px",marginTop:"2%",marginBottom:"2%",marginRight:"2%",borderRadius:"8px",opacity:"0.3"},cardTitle:{fontWeight:"bold"},captionTypograpyStyle:{fontWeight:"bold",fontSize:"10px",opacity:"0.6"}};var tt=e=>Object(w.jsx)(Ue.a,{onClick:()=>{e.office.available&&e.handleClick()},elevation:3,sx:e.office.available?et.cardStyle:et.cardDisabledStyle,children:Object(w.jsx)(_e.a,{children:Object(w.jsxs)(Fe.a,{children:[Object(w.jsx)(d.a,{sx:et.cardTitle,variant:"h4",color:"primary.main",gutterBottom:!0,children:e.office.name}),Object(w.jsx)(d.a,{sx:et.captionTypograpyStyle,variant:"caption",color:"secondary.main",gutterBottom:!0,children:"CLICK TO OPEN"})]})})}),at=a(89),nt=a.n(at),rt=a(390),st=a.n(rt),it=a(804),ot=a(68),lt=a.n(ot);const ct={popoverWrapperStyle:{width:"35vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},contentWrapper:{marginTop:"1%",marginBottom:"4%",marginLeft:"4%",marginRight:"2%"},timeWrapper:{display:"flex",marginTop:"4%"}};var dt=e=>{const[t,a]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),i=()=>{a(""),s("")};return Object(w.jsx)(it.b,{sx:ct.popoverStyle,id:e.officePopoverID,open:e.openOfficePopover,anchorEl:e.anchorOfficePopover,onClose:()=>{e.handleAddOfficeClose(),i()},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(w.jsxs)(c.a,{sx:ct.popoverWrapperStyle,children:[Object(w.jsx)(c.a,{sx:ct.iconBoxWrapper,children:Object(w.jsx)(V.a,{onClick:()=>{e.handleAddOfficeClose(),i()},children:Object(w.jsx)(lt.a,{sx:ct.iconStyle})})}),Object(w.jsxs)(c.a,{sx:ct.contentWrapper,children:[Object(w.jsx)(d.a,{variant:"h5",sx:{color:"primary.main",fontWeight:"600"},gutterBottom:!0,children:"Add an office"}),Object(w.jsx)(j.a,{label:"Office name",value:t,onChange:e=>a(e.target.value),sx:ct.textFieldStyle,error:r.length>0,helperText:r,id:"officeName",variant:"outlined"}),Object(w.jsx)(c.a,{sx:{display:"flex",justifyContent:"start",marginTop:"4%"},children:Object(w.jsx)(p.a,{onClick:()=>{t.length>0?(e.handleEventAddOffice(t),e.handleAddOfficeClose(),i()):s("You must enter an office name!")},variant:"contained",children:"Add office"})})]})]})})};const pt={pageHeadingWorkingUnitIcon:{fontSize:"48px",color:"white"}};var jt=()=>{const e=Object(O.g)(),t=e.location.state.detail,[a,r]=Object(n.useState)(null),{user:s}=ke(),[i,o]=Object(n.useState)(null),[l,d]=Object(n.useState)(null),[p,j]=Object(n.useState)(null),x=Boolean(l),m=x?"add-office-popover":void 0,h=()=>{r(null)},u=e=>{(async function(e,t,a){try{const n={name:`${e}`,workingUnit:t,available:a},r=await S.post("/admin/add/offices",n),{data:s}=r;return Promise.resolve(s)}catch(n){console.log("ERROR CREATING OFFICE",n)}})(e,t,!0).then((e=>{We(t.unitName).then((e=>o(e)))}))},b=e=>{e?async function(e){try{const t={name:`${e}`},a=await S.post("/admin/disable/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING OFFICE",t)}}(p.name).then((e=>{We(t.unitName).then((e=>o(e)))})):async function(e){try{const t={name:`${e}`},a=await S.post("/admin/activate/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING OFFICE",t)}}(p.name).then((e=>{We(t.unitName).then((e=>o(e)))}))},g=e=>{(async function(e){try{const t={name:`${e}`},a=await S.post("/admin/remove/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR REMOVING OFFICE",t)}})(e).then((e=>{We(t.unitName).then((e=>o(e)))}))};return Object(n.useEffect)((()=>{We(t.unitName).then((e=>{o(e)})).catch((e=>{console.log(e)}))}),[t]),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(qe,{avatar:Object(w.jsx)($e.a,{sx:pt.pageHeadingWorkingUnitIcon}),title:t.unitName,subtitle:t.unitAddress,map:t.map}),Object(w.jsxs)(c.a,{sx:{display:"flex",flexWrap:"wrap",width:"100%"},children:[i&&i.map((a=>Object(w.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column",marginRight:"2%",marginTop:"2%"},children:[Object(w.jsx)(tt,{handleClick:()=>e.push(`/booking/${t.city}/${a.id}`,{detail:a}),office:a},a.id),s.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsx)(c.a,{children:Object(w.jsx)(V.a,{sx:{color:"success.main","&:hover":{filter:"brightness(0.7)"}},onClick:e=>{((e,t)=>{j(t),r(e.currentTarget)})(e,a)},children:Object(w.jsx)(nt.a,{sx:{width:"32px",height:"32px"}})})})]},a.id))),s.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(c.a,{sx:{paddingTop:"4%"},children:Object(w.jsx)(V.a,{onClick:e=>(e=>{d(e.currentTarget)})(e),sx:{color:"success.main","&:hover":{filter:"brightness(0.7)"}},children:Object(w.jsx)(st.a,{sx:{height:"42px",width:"42px"}})})}),Object(w.jsx)(dt,{officePopoverID:m,openOfficePopover:x,anchorOfficePopover:l,handleAddOfficeClose:()=>{d(null)},handleEventAddOffice:e=>u(e)})]}),s.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsxs)(ie.a,{id:"menu-settings",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:h,children:[p&&(p.available?Object(w.jsx)(B.a,{onClick:()=>{b(p.available),h()},children:"Disable"}):Object(w.jsx)(B.a,{onClick:()=>{b(p.available),h()},children:"Enable"})),Object(w.jsx)(B.a,{onClick:()=>{g(p.name),h()},children:"Remove"})]})]})]})},xt=(a(484),a(391)),mt=a.n(xt),ht=a(801),ut=a(825),bt=a(826),gt=a(793),Ot=a(792);const ft={pageHeadingUsersIcon:{fontSize:"48px",color:"white"},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},fullName:{textAlign:"center",color:"primary.main",fontWeight:"600"},fieldBox:{marginTop:"5%"},fieldText:{fontWeight:"600"},userStyleActive:{display:"flex"},userStyleInactive:{display:"flex",opacity:"0.4"}};var yt=()=>{const[e,t]=Object(n.useState)([]),[a,s]=Object(n.useState)(0),[i,l]=Object(n.useState)(1),[c,p]=Object(n.useState)(1),[j,x]=r.a.useState(!1),[m,h]=Object(n.useState)([]),[u,b]=Object(n.useState)(null),{user:g}=ke(),[O,f]=Object(n.useState)(null),y=()=>{f(null)},v=e=>{console.log(e.userActive),e.userActive?async function(e){try{const t={username:e},a=await S.post("/admin/disable/users",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(e.username).then((e=>{Te(a).then((e=>{t(e)}))})):async function(e){try{const t={username:e},a=await S.post("/admin/activate/users",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING USER",t)}}(e.username).then((e=>{Te(a).then((e=>t(e)))}))};return Object(n.useEffect)((()=>{(async function(){try{const e=await S.get("/profile/view/users/number"),{data:t}=e;return Promise.resolve(t)}catch(e){console.log("ERROR GETTING NUMBER OF USERS",e)}})().then((e=>{p(Math.round(e/5))})).catch((e=>{console.log(e)})),Te(a).then((e=>{t(e)})).catch((e=>{console.log(e)}))}),[a]),Object(w.jsxs)(Be.a,{children:[Object(w.jsx)(Me,{avatar:Object(w.jsx)(mt.a,{sx:ft.pageHeadingUsersIcon}),title:"Our Users",subtitle:"See all our users!"}),Object(w.jsxs)(Be.a,{children:[Object(w.jsx)(U.a,{children:e.length>0&&e.map((e=>Object(w.jsxs)(Be.a,{sx:e.userActive?ft.userStyleActive:ft.userStyleInactive,children:[Object(w.jsxs)(ht.a,{button:!0,onClick:()=>{(e=>{h(e)})(e),x(!0)},children:[Object(w.jsx)(ut.a,{children:Object(w.jsx)(Be.a,{sx:ft.avatarWrapper,children:Object(w.jsx)(se.a,{name:e.firstName+" "+e.lastName,options:{shape:"square",twoLetter:!0,size:50}})})}),Object(w.jsx)(G.a,{primary:e.firstName+" "+e.lastName})]}),g.roles.find((e=>2===e.id||3===e.id))&&g.id!==e.id&&Object(w.jsx)(Be.a,{children:Object(w.jsx)(bt.a,{sx:{color:"white",backgroundColor:"success.main",marginTop:"4%","&:hover":{filter:"brightness(0.9)"}},size:"small",onClick:t=>((e,t)=>{b(t),f(e.currentTarget)})(t,e),children:Object(w.jsx)(nt.a,{})})})]},e.username)))}),u&&Object(w.jsx)(ie.a,{id:"menu-settings",anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(O),onClose:y,children:u.userActive?Object(w.jsx)(B.a,{onClick:()=>{v(u),y()},children:"Disable"}):Object(w.jsx)(B.a,{onClick:()=>{v(u),y()},children:"Enable"})})]}),Object(w.jsx)(Be.a,{children:Object(w.jsx)(gt.a,{spacing:2,children:Object(w.jsx)(Ot.a,{page:i,onChange:(e,t)=>{l(t),s(t-1)},count:c,color:"primary"})})}),m&&Object(w.jsx)(Ke.a,{"aria-labelledby":"modal-modal-title","aria-describedby":"modal-description",open:j,onClose:()=>x(!1),closeAfterTransition:!0,BackdropComponent:Xe.a,BackdropProps:{timeout:500},children:Object(w.jsx)(o.a,{in:j,children:Object(w.jsxs)(Be.a,{sx:ft.modal,children:[Object(w.jsxs)(d.a,{id:"modal-modal-title",variant:"h4",component:"h2",sx:ft.fullName,children:[m.firstName," ",m.lastName]}),Object(w.jsxs)(Be.a,{sx:ft.fieldBox,children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"E-mail:"}),Object(w.jsx)(d.a,{variant:"h6",sx:ft.fieldText,children:m.email})]}),Object(w.jsxs)(Be.a,{sx:ft.fieldBox,children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"Telephone:"}),Object(w.jsx)(d.a,{variant:"h6",sx:ft.fieldText,children:m.telephone})]}),m.workingUnit&&Object(w.jsxs)(Be.a,{sx:ft.fieldBox,children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"Office:"}),Object(w.jsx)(d.a,{variant:"h6",sx:ft.fieldText,children:m.workingUnit.unitName})]})]})})})]})};a(485);const vt={paperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:24,p:4,width:"42vh",height:"400px"},contentWrapper:{display:"flex",flexDirection:"column"},modalTitle:{color:"primary.main",fontWeight:"600",textAlign:"center"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"4%"},inputLabelStyle:{fontWeight:"bold"},buttonStyle:{padding:"2%",fontWeight:"600","&:hover":{textDecoration:"underline"}}},St={newPassword:"",confirmNewPassword:""};var wt=e=>{const[t,a]=Object(n.useState)(St),[r,s]=Object(n.useState)(null),[i,o]=Object(n.useState)(""),x=()=>{t.newPassword.length>4?t.newPassword===t.confirmNewPassword?(s(null),async function(e){try{const t=await S.post("/profile/update/password",{password:e}),{data:a}=t;return Promise.resolve(a)}catch(t){return console.log("PASSWORD CHANGE ERROR",t),Promise.reject("Password change error")}}(t.newPassword).then((e=>{console.log("sucess"+e),a(St),o("Password changed successfully!")})).catch((e=>{console.log(e)}))):s("confirmNewPassword"):s("newPassword")};return Object(w.jsx)(Ke.a,{open:e.open,onClose:()=>{e.handleClose(),a(St),o("")},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(w.jsx)(l.a,{sx:vt.paperStyle,children:Object(w.jsxs)(c.a,{sx:vt.contentWrapper,children:[Object(w.jsx)(d.a,{variant:"h5",sx:vt.modalTitle,children:"Change Your Password"}),Object(w.jsxs)(c.a,{sx:vt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:vt.inputLabelStyle,gutterBottom:!0,children:"Your new password"}),Object(w.jsx)(j.a,{value:t.newPassword,onChange:e=>{a({...t,newPassword:e.target.value})},error:"newPassword"===r,helperText:"newPassword"===r?"Password must be at least 4 characters long!":"",id:"newPassword",type:"password",variant:"outlined"})]}),Object(w.jsxs)(c.a,{sx:vt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:vt.inputLabelStyle,gutterBottom:!0,children:"Confirm your new password"}),Object(w.jsx)(j.a,{value:t.confirmNewPassword,onChange:e=>{a({...t,confirmNewPassword:e.target.value})},error:"confirmNewPassword"===r,helperText:"confirmNewPassword"===r?"Passwords in the fields must be the same!":"",id:"confirmNewPassword",type:"password",variant:"outlined"}),i.length>0&&Object(w.jsx)(d.a,{variant:"subtitle1",sx:{fontWeight:"bold",color:"success.main"},gutterBottom:!0,children:i})]}),Object(w.jsxs)(c.a,{sx:{marginTop:"5%",display:"flex",justifyContent:"center"},children:[Object(w.jsx)(p.a,{variant:"text",sx:vt.buttonStyle,onClick:()=>{x()},children:"Change"}),Object(w.jsx)(p.a,{variant:"text",sx:vt.buttonStyle,onClick:()=>{e.handleClose(),a(St),o("")},children:"Close"})]})]})})})};const kt={paperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:24,p:4,width:"60vh",height:"450px"},contentWrapper:{display:"flex",flexDirection:"column"},modalTitle:{color:"primary.main",fontWeight:"600",textAlign:"center"},rowWrapper:{display:"flex"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginLeft:"4%",marginRight:"4%",marginTop:"2%"},inputLabelStyle:{fontWeight:"bold"},buttonStyle:{padding:"2%",fontWeight:"600","&:hover":{textDecoration:"underline"}}};var Ct=e=>{const{user:t,setUser:a}=ke(),r={firstName:t.firstName,lastName:t.lastName,email:t.email,workingUnit:t.workingUnit.unitName,telephone:t.telephone},[s,i]=Object(n.useState)(r),[o,x]=Object(n.useState)(null),m=()=>{h()&&(x(null),console.log(s),async function(e){try{const t=await S.post("/profile/update",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("EDIT PROFILE ERROR",t)}}(s).then((t=>{console.log("sucess"+t),a(t),e.handleClose()})).catch((e=>{console.log(e)})))},h=()=>0===s.firstName.length?(x("firstName"),!1):0===s.lastName.length?(x("lastName"),!1):s.email.endsWith("@enjoying.rs")?0!==s.telephone.length||(x("telephone"),!1):(x("email"),!1);return Object(w.jsx)(Ke.a,{open:e.open,onClose:()=>{e.handleClose(),i(r)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(w.jsx)(l.a,{sx:kt.paperStyle,children:Object(w.jsxs)(c.a,{sx:kt.contentWrapper,children:[Object(w.jsx)(d.a,{variant:"h5",sx:kt.modalTitle,children:"Edit Your Profile"}),Object(w.jsxs)(c.a,{sx:kt.rowWrapper,children:[Object(w.jsxs)(c.a,{sx:kt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:kt.inputLabelStyle,gutterBottom:!0,children:"Your Name"}),Object(w.jsx)(j.a,{size:"small",value:s.firstName,onChange:e=>{i({...s,firstName:e.target.value})},error:"firstName"===o,helperText:"firstName"===o?"You can't leave this field empty!":"",id:"firstName",type:"text",variant:"outlined"})]}),Object(w.jsxs)(c.a,{sx:kt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:kt.inputLabelStyle,gutterBottom:!0,children:"Your Last Name"}),Object(w.jsx)(j.a,{size:"small",value:s.lastName,onChange:e=>{i({...s,lastName:e.target.value})},error:"lastName"===o,helperText:"lastName"===o?"You can't leave this field empty!":"",id:"lastName",type:"text",variant:"outlined"})]})]}),Object(w.jsxs)(c.a,{sx:kt.rowWrapper,children:[Object(w.jsxs)(c.a,{sx:kt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:kt.inputLabelStyle,gutterBottom:!0,children:"Your Email"}),Object(w.jsx)(j.a,{size:"small",value:s.email,onChange:e=>{i({...s,email:e.target.value})},error:"email"===o,helperText:"email"===o?"You must type yout enjoy.ing email!":"",id:"email",type:"text",variant:"outlined"})]}),Object(w.jsxs)(c.a,{sx:kt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:kt.inputLabelStyle,gutterBottom:!0,children:"Your Phone Number"}),Object(w.jsx)(j.a,{size:"small",value:s.telephone,onChange:e=>{i({...s,telephone:e.target.value})},error:"telephone"===o,helperText:"telephone"===o?"You can't leave this field empty!":"",id:"telephone",type:"number",variant:"outlined"})]})]}),Object(w.jsx)(c.a,{sx:kt.rowWrapper,children:Object(w.jsxs)(c.a,{sx:kt.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",sx:kt.inputLabelStyle,gutterBottom:!0,children:"Your Office"}),Object(w.jsxs)(I.a,{size:"small",defaultValue:t.workingUnit.unitName,id:"workingUnit",onChange:e=>i({...s,workingUnit:e.target.value}),children:[Object(w.jsx)(B.a,{value:"Nis Office",children:"Nis Office"}),Object(w.jsx)(B.a,{value:"Beograd Office",children:"Beograd Office"}),Object(w.jsx)(B.a,{value:"Kragujevac Office",children:"Kragujevac Office"})]})]})}),Object(w.jsxs)(c.a,{sx:{marginTop:"5%",display:"flex",justifyContent:"center"},children:[Object(w.jsx)(p.a,{variant:"text",sx:kt.buttonStyle,onClick:()=>{m()},children:"Edit"}),Object(w.jsx)(p.a,{variant:"text",sx:kt.buttonStyle,onClick:()=>{e.handleClose(),i(r)},children:"Close"})]})]})})})};const Tt={columnWrapper:{display:"flex",justifyContent:"center"},profileWrapper:{marginTop:"2%",display:"flex",flexDirection:"column"},avatarWrapper:{display:"flex",justifyContent:"center"},nameAndLastNameStyle:{color:"primary.main",marginTop:"8%",fontWeight:"600",textAlign:"center"},usernameStyle:{marginTop:"8%",fontWeight:"500",textAlign:"center"},contentBox:{marginTop:"8%"},contentBoxSubtitle:{fontWeight:"400"},contentBoxContent:{fontWeight:"600",color:"#3f4450"},buttonStyle:{paddingLeft:"2%",fontWeight:"600","&:hover":{textDecoration:"underline"}}};var Wt=()=>{const{user:e}=ke(),[t,a]=Object(n.useState)(!1),[r,s]=Object(n.useState)(!1);return Object(w.jsxs)(c.a,{sx:Tt.columnWrapper,children:[Object(w.jsxs)(c.a,{sx:Tt.profileWrapper,children:[Object(w.jsx)(c.a,{sx:Tt.avatarWrapper,children:Object(w.jsx)(se.a,{name:e.firstName+" "+e.lastName,options:{shape:"square",twoLetter:!0,size:128}})}),Object(w.jsx)(d.a,{variant:"h4",sx:Tt.nameAndLastNameStyle,children:e.firstName+" "+e.lastName}),Object(w.jsx)(d.a,{variant:"h5",sx:Tt.usernameStyle,children:e.username}),Object(w.jsx)(D.a,{variant:"middle"}),Object(w.jsxs)(c.a,{sx:Tt.contentBox,children:[Object(w.jsx)(d.a,{variant:"subtitle2",sx:Tt.contentBoxSubtitle,children:"Email"}),Object(w.jsx)(d.a,{variant:"h6",sx:Tt.contentBoxContent,children:e.email})]}),Object(w.jsxs)(c.a,{sx:Tt.contentBox,children:[Object(w.jsx)(d.a,{variant:"subtitle2",sx:Tt.contentBoxSubtitle,children:"Phone Number"}),Object(w.jsx)(d.a,{variant:"h6",sx:Tt.contentBoxContent,children:e.telephone})]}),Object(w.jsxs)(c.a,{sx:Tt.contentBox,children:[Object(w.jsx)(d.a,{variant:"subtitle2",sx:Tt.contentBoxSubtitle,children:"Office"}),Object(w.jsx)(d.a,{variant:"h6",sx:Tt.contentBoxContent,children:e.workingUnit.unitName})]}),Object(w.jsxs)(c.a,{sx:Tt.contentBox,children:[Object(w.jsx)(p.a,{variant:"text",onClick:()=>s(!0),sx:Tt.buttonStyle,children:"Edit profile"}),Object(w.jsx)(p.a,{variant:"text",onClick:()=>a(!0),sx:Tt.buttonStyle,children:"Change password"})]})]}),Object(w.jsx)(wt,{open:t,handleClose:()=>a(!1)}),Object(w.jsx)(Ct,{open:r,handleClose:()=>s(!1)})]})};a(486);const Et={cardWrapper:{margin:"5px",padding:"5px","&:hover":{cursor:"pointer"}},defaultStyleWrapper:{"&:hover":{color:"primary.main"}},styleWrapperSelected:{color:"primary.main"},styleWrapperDisabled:{opacity:"0.3"},iconWrapper:{display:"flex",justifyContent:"center"},iconStyle:{height:"32px",width:"32px"},deskNameStyle:{textAlign:"center"}};var Dt=e=>Object(w.jsx)(c.a,{children:Object(w.jsx)(c.a,{onClick:()=>e.handleSelect(e.desk.available,e.desk.id),sx:Et.cardWrapper,children:Object(w.jsxs)(c.a,{sx:e.selectedDeskId===e.desk.id?Et.styleWrapperSelected:e.desk.available?Et.defaultStyleWrapper:Et.styleWrapperDisabled,children:[Object(w.jsx)(c.a,{sx:Et.iconWrapper,children:e.icon}),Object(w.jsx)(d.a,{sx:Et.deskNameStyle,children:e.desk.name})]})})}),Rt=a(193),It=a.n(Rt),Bt=a(131),At=(a(272),a(395)),Nt=a.n(At),Pt=a(396),Lt=a.n(Pt);const Mt={popoverWrapperStyle:{width:"32vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},iconStyle:{width:"28px",height:"28px"},contentWrapper:{marginTop:"1%",marginLeft:"4%",marginRight:"4%",marginBottom:"4%"},nameTypographyDefault:{color:"primary.main",fontWeight:"bold"},nameTypographyCurrentUser:{color:"success.main",fontWeight:"bold"}};var zt=e=>Object(w.jsx)(it.b,{sx:Mt.popoverStyle,id:e.eventPopoverID,open:e.openEventPopover,anchorEl:e.anchorEventPopover,onClose:e.handleEventClose,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(w.jsxs)(c.a,{sx:Mt.popoverWrapperStyle,children:[Object(w.jsxs)(c.a,{sx:Mt.iconBoxWrapper,children:[(e.currentUserID===e.eventUserID||e.currentUserRoles.find((e=>2===e.id||3===e.id)))&&e.selectedEventEndDate>new Date&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(V.a,{onClick:()=>{e.handleEventDelete(e.event.id),e.handleEventClose()},children:Object(w.jsx)(Nt.a,{sx:Mt.iconStyle})}),Object(w.jsx)(D.a,{orientation:"vertical",flexItem:!0})]}),Object(w.jsx)(V.a,{onClick:()=>e.handleEventClose(),children:Object(w.jsx)(lt.a,{sx:Mt.iconStyle})})]}),Object(w.jsx)(c.a,{sx:Mt.contentWrapper,children:e.event&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(d.a,{variant:"h6",sx:e.currentUserID===e.eventUserID?Mt.nameTypographyCurrentUser:Mt.nameTypographyDefault,children:e.event.title}),Object(w.jsx)(d.a,{children:e.event.start.toLocaleDateString()}),Object(w.jsxs)(c.a,{sx:{display:"flex",marginTop:"2%"},children:[Object(w.jsx)(Lt.a,{sx:{marginRight:"2%"}}),Object(w.jsxs)(d.a,{children:[e.event.start.toLocaleTimeString()," -"," ",e.event.end.toLocaleTimeString()]})]})]})})]})}),Zt=a(786),Ut=a(785),Ft=a(787),Ht=a(788);const Gt={popoverWrapperStyle:{width:"40vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},contentWrapper:{marginTop:"1%",marginBottom:"4%",marginLeft:"4%",marginRight:"2%"},timeWrapper:{display:"flex",marginTop:"4%"}};var Yt=e=>{const[t,a]=Object(n.useState)(Ze()().add(1,"days")),[r,s]=Object(n.useState)(null),[i,o]=Object(n.useState)(null),[l,x]=Object(n.useState)(null),m=()=>{if(r&&i){const a={username:e.currentUserUsername,deskName:e.selectedDesk.name,dateFrom:t.set({hour:r.get("hour"),minute:r.get("minute"),second:0}).format("YYYY-MM-D HH:mm:ss"),dateTo:t.set({hour:i.get("hour"),minute:i.get("minute"),second:0}).format("YYYY-MM-D HH:mm:ss")};((t,a)=>{let n=!1;return e.allEvents.forEach((e=>{t<e.end&&e.start<a&&(n=!0)})),n})(Ze()(a.dateFrom).toDate(),Ze()(a.dateTo).toDate())?x("Selected date and time are not avaliable!"):(e.handleSetNewEvent(a),e.handleCreateClose(),h())}else x("You must select start and end time!")},h=()=>{a(Ze()().add(1,"days")),s(null),o(null),x(null)};return Object(w.jsx)(it.b,{sx:Gt.popoverStyle,id:e.createPopoverID,open:e.openCreatePopover,anchorEl:e.anchorCreatePopover,onClose:()=>{e.handleCreateClose(),h()},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(w.jsxs)(c.a,{sx:Gt.popoverWrapperStyle,children:[Object(w.jsx)(c.a,{sx:Gt.iconBoxWrapper,children:Object(w.jsx)(V.a,{onClick:()=>{e.handleCreateClose(),h()},children:Object(w.jsx)(lt.a,{sx:Gt.iconStyle})})}),Object(w.jsxs)(c.a,{sx:Gt.contentWrapper,children:[Object(w.jsx)(d.a,{variant:"h5",sx:{color:"primary.main",fontWeight:"600"},gutterBottom:!0,children:"Book a desk \ud83d\ude07"}),Object(w.jsx)(Ut.a,{dateAdapter:Zt.a,children:Object(w.jsx)(Ft.a,{minDate:Ze()().add(1,"days"),label:"Pick a date",value:t,onChange:e=>{a(e)},renderInput:e=>Object(w.jsx)(j.a,{...e})})}),Object(w.jsxs)(c.a,{sx:Gt.timeWrapper,children:[Object(w.jsx)(c.a,{children:Object(w.jsx)(Ut.a,{dateAdapter:Zt.a,children:Object(w.jsx)(Ht.a,{ampm:!1,label:"Time from",value:r,onChange:e=>{s(e)},renderInput:e=>Object(w.jsx)(j.a,{...e})})})}),Object(w.jsx)(c.a,{sx:{marginLeft:"4%"},children:Object(w.jsx)(Ut.a,{dateAdapter:Zt.a,children:Object(w.jsx)(Ht.a,{ampm:!1,minTime:r||null,label:"Time to",value:i,onChange:e=>{o(e)},renderInput:e=>Object(w.jsx)(j.a,{...e})})})})]}),Object(w.jsx)(p.a,{sx:{marginTop:"4%"},variant:"contained",onClick:()=>m(),children:"SUBMIT"}),l&&Object(w.jsx)(d.a,{variant:"subtitle1",sx:{color:"red"},children:l})]})]})})},Jt=a(192),Kt=a.n(Jt);const Xt={popoverWrapperStyle:{width:"35vh"},iconBoxWrapper:{display:"flex",marginTop:"2%",marginLeft:"2%",marginRight:"2%",justifyContent:"end"},contentWrapper:{marginTop:"1%",marginBottom:"4%",marginLeft:"4%",marginRight:"2%"},timeWrapper:{display:"flex",marginTop:"4%"}};var Vt=e=>{const[t,a]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),i=()=>{a(""),s("")};return Object(w.jsx)(it.b,{sx:Xt.popoverStyle,id:e.deskPopoverID,open:e.openDeskPopover,anchorEl:e.anchorDeskPopover,onClose:()=>{e.handleAddDeskClose(),i()},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(w.jsxs)(c.a,{sx:Xt.popoverWrapperStyle,children:[Object(w.jsx)(c.a,{sx:Xt.iconBoxWrapper,children:Object(w.jsx)(V.a,{onClick:()=>{e.handleAddDeskClose(),i()},children:Object(w.jsx)(lt.a,{sx:Xt.iconStyle})})}),Object(w.jsxs)(c.a,{sx:Xt.contentWrapper,children:[Object(w.jsx)(d.a,{variant:"h5",sx:{color:"primary.main",fontWeight:"600"},gutterBottom:!0,children:"Add a desk"}),Object(w.jsx)(j.a,{label:"Desk name",value:t,onChange:e=>a(e.target.value),sx:Xt.textFieldStyle,error:r.length>0,helperText:r,id:"deskName",variant:"outlined"}),Object(w.jsx)(c.a,{sx:{display:"flex",justifyContent:"start",marginTop:"4%"},children:Object(w.jsx)(p.a,{onClick:()=>{t.length>0?(e.handleEventAddDesk(t),e.handleAddDeskClose(),i()):s("You must enter a desk name!")},variant:"contained",children:"Add desk"})})]})]})})};const qt={pageHeadingOfficeIcon:{fontSize:"48px",color:"white"},selectWrapper:{minWidth:"150px",width:"100%",marginTop:"20px",display:"flex",flexWrap:"wrap"},contentWrapper:{marginTop:"2%"},calendarWrapper:{paddingLeft:"2%",paddingRight:"2%",paddingBottom:"2%",paddingTop:"1%",height:"75%"},iconStyle:{height:"32px",width:"32px"}};var Qt=()=>{const e=Object(O.g)(),t=Object(Bt.b)(Ze.a),[a,r]=Object(n.useState)(-1),[s,i]=Object(n.useState)(null),[o,p]=Object(n.useState)(null),[j,x]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,b]=Object(n.useState)(null),[g,f]=Object(n.useState)(null),[y,v]=Object(n.useState)(null),{user:k}=ke(),[C,T]=Object(n.useState)(null),[W,E]=Object(n.useState)(null),{city:D,office:R}=Object(O.h)(),I=Boolean(j),A=I?"event-popover":void 0,N=Boolean(m),P=N?"create-popover":void 0,L=Boolean(u),M=L?"add-desk-popover":void 0,z=e.location.state.detail;Object(n.useEffect)((()=>{Ee(R,D).then((e=>{console.log(e),i(e)})).catch((e=>{console.log(e)}))}),[]);const Z=e=>{const t=[];return e.map((e=>{let a={id:e.id,title:`${e.user.firstName} ${e.user.lastName}`,start:Ze()(e.dateFrom).toDate(),end:Ze()(e.dateTo).toDate(),resource:{userID:e.user.id,user:e.user,desk:e.desk}};t.push(a)})),t},U=e=>{(async function(e){let t={id:e};try{const e=await S.post("/booking/disable",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("LIMITED SCHEDULE ERROR",a)}})(e).then((e=>{De(s.find((e=>e.id===a)).name).then((e=>{p(Z(e))}))}))},F=()=>{T(null)},H=e=>{(async function(e){try{const t=await S.post("/booking/reservation",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("LIMITED SCHEDULE ERROR",t)}})(e).then((e=>{De(s.find((e=>e.id===a)).name).then((e=>{p(Z(e))}))}))},G=e=>{(async function(e,t,a){try{const n={name:`${e}`,office:t,available:a},r=await S.post("/admin/add/desks",n),{data:s}=r;return Promise.resolve(s)}catch(n){console.log("ERROR ADDING DESK",n)}})(e,z,!0).then((e=>{Ee(R,D).then((e=>i(e)))}))},Y=e=>{e?async function(e){try{const t={name:`${e}`},a=await S.post("/admin/disable/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING DESK",t)}}(W.name).then((e=>{Ee(R,D).then((e=>{i(e),console.log(e)}))})):async function(e){try{const t={name:`${e}`},a=await S.post("/admin/activate/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING DESK",t)}}(W.name).then((e=>{Ee(R,D).then((e=>i(e)))}))},J=e=>{(async function(e){try{const t={name:`${e}`},a=await S.post("/admin/remove/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR REMOVING DESK",t)}})(e).then((e=>{Ee(R,D).then((e=>i(e)))}))};return Object(n.useEffect)((()=>{Ee(R,D).then((e=>{i(e)})).catch((e=>{console.log(e)}))}),[R]),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(Me,{avatar:Object(w.jsx)(me.a,{sx:qt.pageHeadingOfficeIcon}),title:z.name,subtitle:z.workingUnit.unitName}),Object(w.jsx)(c.a,{sx:qt.selectWrapper,children:s&&Object(w.jsxs)(w.Fragment,{children:[s.map((e=>Object(w.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(w.jsx)(Dt,{selectedDeskId:a,handleSelect:(e,t)=>((e,t)=>{e&&(r(t),De(s.find((e=>e.id===t)).name).then((e=>{p(Z(e)),console.log(e),console.log(Z(e)+"eeeeee")})))})(e,t),desk:e,icon:Object(w.jsx)(me.a,{sx:qt.iconStyle})}),k.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsx)(nt.a,{sx:{color:"success.main","&:hover":{filter:"brightness(0.9)"},marginLeft:"30%"},size:"small",onClick:t=>((e,t)=>{E(t),T(e.currentTarget)})(t,e)})]},e.name))),Object(w.jsx)(c.a,{sx:{display:"flex",flexDirection:"column",marginTop:"4%",marginLeft:"1%"},children:k.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(ie.a,{id:"menu-settings",anchorEl:C,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(C),onClose:F,children:[W&&(W.available?Object(w.jsx)(B.a,{onClick:()=>{Y(W.available),F()},children:"Disable"}):Object(w.jsx)(B.a,{onClick:()=>{Y(W.available),F()},children:"Enable"})),Object(w.jsx)(B.a,{onClick:()=>{J(W.name),F()},children:"Remove"})]}),k.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Kt.a,{onClick:e=>(e=>{b(e.currentTarget)})(e),sx:{color:"success.main",marginTop:"3%","&:hover":{filter:"brightness(0.9)"}},size:"small"}),Object(w.jsx)(Vt,{deskPopoverID:M,openDeskPopover:L,anchorDeskPopover:u,handleAddDeskClose:()=>{b(null)},handleEventAddDesk:e=>G(e)})]})]})})]})}),Object(w.jsxs)(c.a,{sx:qt.contentWrapper,children:[-1===a&&Object(w.jsx)(d.a,{variant:"h4",sx:{color:"primary.main",fontWeight:"bold"},children:"Select a desk!"}),-1!==a&&Object(w.jsxs)(l.a,{sx:qt.calendarWrapper,children:[Object(w.jsx)(c.a,{sx:{display:"flex",justifyContent:"end"},children:Object(w.jsxs)(bt.a,{onClick:e=>(e=>{h(e.currentTarget)})(e),"aria-describedby":P,variant:"extended",size:"medium",color:"primary","aria-label":"add",children:[Object(w.jsx)(It.a,{sx:{mr:1}}),"BOOKING"]})}),Object(w.jsx)(Bt.a,{events:o||[],showMultiDayTimes:!0,defaultView:"week",views:["week"],localizer:t,onSelectEvent:(e,t)=>((e,t)=>{v(e),f(e.resource.userID),x(t.currentTarget)})(e,t),eventPropGetter:e=>e.resource.userID===k.id?e.end>new Date?{ariaDescribedby:{eventPopoverID:A},className:"user-event",style:{backgroundColor:"#21DA6C",border:"none"}}:{ariaDescribedby:{eventPopoverID:A},className:"user-event-past",style:{backgroundColor:"#21DA6C",border:"none",filter:"brightness(0.8)"}}:{ariaDescribedby:{eventPopoverID:A},className:"current-user-event",style:{backgroundColor:"#279cce",border:"none"}}})]}),Object(w.jsx)(zt,{event:y,selectedEventEndDate:y?y.end:new Date,eventUserID:g,currentUserID:k.id,currentUserRoles:k.roles,eventPopoverID:A,openEventPopover:I,anchorEventPopover:j,handleEventClose:()=>{x(null)},handleEventDelete:e=>U(e)}),Object(w.jsx)(Yt,{currentUserUsername:k.username,selectedDesk:s?s.find((e=>e.id===a)):null,currentUserID:k.id,currentUserName:`${k.firstName} ${k.lastName}`,allEvents:o,handleSetNewEvent:e=>H(e),createPopoverID:P,openCreatePopover:N,anchorCreatePopover:m,handleCreateClose:()=>{h(null)}})]})]})},$t=(a(487),a(794));const _t={transitionStyle:{transitionDelay:"300ms"},paperStyle:{width:"42vh",height:"365px",minWidth:"200px",minHeight:"230px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"2%"},formTitleStyle:{textAlign:"start",fontWeight:"bold"},formSubtitleStyle:{textAlign:"start"},buttonStyle:{marginTop:"5%"},inputBoxWrapperStyle:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"4%"},appLogoStyleBox:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"4%"},formLogInButtonStyle:{fontWeight:"bold",paddingLeft:"2%",fontSize:"17px","&:hover":{textDecoration:"underline"}}};var ea=e=>{var t=!1;const[a,r]=Object(n.useState)({username:""}),[s,i]=n.useState(!1),[m,u]=Object(n.useState)(""),b=Object(O.g)(),f=Object(n.useCallback)((e=>{13===e.keyCode&&y()}),[a]);Object(n.useEffect)((()=>(window.addEventListener("keypress",f),()=>{window.removeEventListener("keypress",f)})),[f]);const y=()=>{u("");const e=v(a.username);e.err?u(e.errMsg):(t=!0,async function(e){try{const t=await S.post("/reset",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("RESET PASSWORD ERROR",t)}}(a).then((e=>{console.log(e)})).catch((e=>{console.log(e)})))},v=e=>0===e.length?{err:!0,errMsg:"Enter your username!"}:{err:!1,errMsg:""};return Object(w.jsx)(o.a,{style:_t.transitionStyle,in:!0,appear:!0,children:Object(w.jsxs)(l.a,{sx:_t.paperStyle,elevation:5,children:[Object(w.jsx)(c.a,{sx:_t.appLogoStyleBox,children:Object(w.jsx)("img",{src:g,alt:"deskbooking",className:"login-app-logo"})}),Object(w.jsx)(d.a,{sx:_t.formTitleStyle,variant:"h5",children:"Reset your password"}),Object(w.jsxs)(d.a,{sx:_t.formSubtitleStyle,variant:"subtitle1",children:["Back to",Object(w.jsx)(p.a,{sx:_t.formLogInButtonStyle,onClick:()=>b.push("/login"),children:"LOG IN?"})]}),Object(w.jsxs)(c.a,{sx:_t.inputBoxWrapperStyle,children:[Object(w.jsx)(d.a,{variant:"subtitle1",gutterBottom:!0,children:"Enter your username"}),Object(w.jsx)(j.a,{value:a.username,onChange:e=>r({...a,username:e.target.value}),sx:_t.textFieldStyle,error:m.length>0,helperText:m,id:"username",variant:"outlined",InputProps:{startAdornment:Object(w.jsx)(x.a,{position:"start",children:Object(w.jsx)(h.a,{})})}})]}),Object(w.jsxs)(c.a,{sx:_t.inputBoxWrapperStyle,children:[Object(w.jsx)(p.a,{sx:_t.buttonStyle,variant:"contained",onClick:()=>{y(),t&&i(!0)},children:"Reset password"}),Object(w.jsx)(Y.a,{in:s,children:Object(w.jsx)($t.a,{action:Object(w.jsx)(V.a,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{i(!1)},children:Object(w.jsx)(lt.a,{fontSize:"inherit"})}),sx:{mb:2},children:"Check your email!"})})]})]})})},ta=a(800);const aa={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{width:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main"}};var na=e=>Object(w.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(w.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(w.jsxs)(R.a,{fullWidth:!0,children:[Object(w.jsx)(ta.a,{id:"time-frame-select-label",children:"Time frame"}),Object(w.jsxs)(I.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(w.jsx)(B.a,{value:30,children:"30 days"}),Object(w.jsx)(B.a,{value:7,children:"7 days"}),Object(w.jsx)(B.a,{value:1,children:"1 day"})]})]})}),Object(w.jsx)(c.a,{sx:aa.contentWrapper,children:e.data&&e.data.map(((t,a)=>{return Object(w.jsxs)(l.a,{sx:aa.analyticsCardSyles,elevation:3,children:[Object(w.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(w.jsx)(fe.a,{sx:{color:"primary.main",width:"36px",height:"36px",marginRight:"2%"}}),Object(w.jsx)(d.a,{variant:"h5",children:(n=t.workingUnitId,e.workingUnitList.find((e=>e.id===n)).unitName)})]}),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"Total number of bookings:"}),Object(w.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:t.numOfTotalSchedules})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Fulfilled/canceled:"}),Object(w.jsx)(d.a,{sx:aa.dataTypographyStyles,variant:"h5",children:(t.numOfSchedules?t.numOfSchedules:0)+"/"+(t.numOfCanceledSchedules?t.numOfCanceledSchedules:0)})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsxs)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:["Average number of bookings:"," "]}),Object(w.jsx)(d.a,{sx:aa.dataTypographyStyles,variant:"h5",children:t.avgDailyReservation})]})]},a);var n}))})]}),ra=a(397),sa=a.n(ra),ia=a(789),oa=a(791),la=a(790),ca=a(408),da=a(409),pa=a(97),ja=a(132),xa=a(200);const ma={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{maxWidth:"600px",minWidth:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main",marginTop:"1%"}};var ha=e=>{const[t,a]=Object(n.useState)(null),r=t=>e.workingUnitList.find((e=>e.id===t)).unitName;return Object(n.useEffect)((()=>{(async function(e){try{const t={dateLength:e},a=await S.post("/admin/anaylitic/top/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}})(e.timeFrame).then((e=>{a(e)}))}),[e.timeFrame]),Object(w.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(w.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(w.jsxs)(R.a,{fullWidth:!0,children:[Object(w.jsx)(ta.a,{id:"time-frame-select-label",children:"Time frame"}),Object(w.jsxs)(I.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(w.jsx)(B.a,{value:30,children:"30 days"}),Object(w.jsx)(B.a,{value:7,children:"7 days"}),Object(w.jsx)(B.a,{value:1,children:"1 day"})]})]})}),Object(w.jsx)(c.a,{sx:ma.contentWrapper,children:e.data&&e.data.map(((e,t)=>Object(w.jsxs)(l.a,{sx:ma.analyticsCardSyles,elevation:3,children:[Object(w.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(w.jsx)(sa.a,{sx:{color:"primary.main",width:"32px",height:"32px",marginRight:"2%"}}),Object(w.jsx)(d.a,{variant:"h5",children:r(e.workingUnitId)})]}),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"Total number of offices:"}),Object(w.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:e.numOfDisableOffices||e.numOfEnableOffices?e.numOfDisableOffices+e.numOfEnableOffices:0})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Available/unavailable:"}),Object(w.jsx)(d.a,{sx:ma.dataTypographyStyles,variant:"h5",children:e.numOfDisableOffices||e.numOfEnableOffices?e.numOfEnableOffices+"/"+e.numOfDisableOffices:0})]})]},t)))}),t&&t.map(((e,t)=>e.length>0&&Object(w.jsxs)(l.a,{sx:ma.analyticsCardSyles,elevation:3,children:[Object(w.jsx)(d.a,{sx:{fontWeight:"bold",marginTop:"2%",textAlign:"center"},gutterBottom:!0,children:"Most used offices in "+r(e[t].workingUnitId)}),Object(w.jsx)(c.a,{sx:{width:"500px",height:"300px"},children:Object(w.jsx)(ia.a,{width:"100%",height:"100%",children:Object(w.jsxs)(oa.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(w.jsx)(la.a,{strokeDasharray:"3 3"}),Object(w.jsx)(ca.a,{dataKey:"officeName"}),Object(w.jsx)(da.a,{}),Object(w.jsx)(pa.a,{}),Object(w.jsx)(ja.a,{}),Object(w.jsx)(xa.a,{dataKey:"numOfUsed",fill:"#279cce"})]})})})]},t)))]})};const ua={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{maxWidth:"600px",minWidth:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main",marginTop:"1%"}};var ba=e=>{const[t,a]=Object(n.useState)(null),r=t=>e.workingUnitList.find((e=>e.id===t)).unitName;return Object(n.useEffect)((()=>{(async function(e){try{const t={dateLength:e},a=await S.post("/admin/anaylitic/top/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}})(e.timeFrame).then((e=>{a(e)}))}),[e.timeFrame]),Object(w.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(w.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(w.jsxs)(R.a,{fullWidth:!0,children:[Object(w.jsx)(ta.a,{id:"time-frame-select-label",children:"Time frame"}),Object(w.jsxs)(I.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(w.jsx)(B.a,{value:30,children:"30 days"}),Object(w.jsx)(B.a,{value:7,children:"7 days"}),Object(w.jsx)(B.a,{value:1,children:"1 day"})]})]})}),Object(w.jsx)(c.a,{sx:ua.contentWrapper,children:e.data&&e.data.map(((e,t)=>Object(w.jsxs)(l.a,{sx:ua.analyticsCardSyles,elevation:3,children:[Object(w.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(w.jsx)(me.a,{sx:{color:"primary.main",width:"32px",height:"32px",marginRight:"2%"}}),Object(w.jsx)(d.a,{variant:"h5",children:r(e.workingUnitId)})]}),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"Total number of desks:"}),Object(w.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:e.numOfDisableDesks||e.numOfEnableDesks?e.numOfDisableDesks+e.numOfEnableDesks:0})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle1",children:"Available/unavailable:"}),Object(w.jsx)(d.a,{sx:ua.dataTypographyStyles,variant:"h5",children:e.numOfDisableDesks||e.numOfEnableDesks?e.numOfEnableDesks+"/"+e.numOfDisableDesks:0})]})]},t)))}),t&&t.map(((e,t)=>e.length>0&&Object(w.jsxs)(l.a,{sx:ua.analyticsCardSyles,elevation:3,children:[Object(w.jsx)(d.a,{sx:{fontWeight:"bold",marginTop:"2%",textAlign:"center"},gutterBottom:!0,children:"Most used desks in  "+r(e[0].workingUnitId)}),Object(w.jsx)(c.a,{sx:{width:"500px",height:"300px"},children:Object(w.jsx)(ia.a,{width:"100%",height:"100%",children:Object(w.jsxs)(oa.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(w.jsx)(la.a,{strokeDasharray:"3 3"}),Object(w.jsx)(ca.a,{dataKey:"deskName"}),Object(w.jsx)(da.a,{}),Object(w.jsx)(pa.a,{}),Object(w.jsx)(ja.a,{}),Object(w.jsx)(xa.a,{dataKey:"numOfUsed",fill:"#279cce"})]})})})]},t)))]})};const ga={contentWrapper:{display:"flex",flexWrap:"wrap"},analyticsCardSyles:{width:"300px",marginRight:"2%",marginTop:"1%",padding:"1%"},dataTypographyStyles:{fontWeight:"bold",marginLeft:"2%",color:"secondary.main"}};var Oa=e=>Object(w.jsxs)(c.a,{sx:{marginTop:"4%"},children:[Object(w.jsx)(c.a,{sx:{width:200,marginTop:"2%"},children:Object(w.jsxs)(R.a,{fullWidth:!0,children:[Object(w.jsx)(ta.a,{id:"time-frame-select-label",children:"Time frame"}),Object(w.jsxs)(I.a,{labelId:"time-frame-select-label",id:"categories-select",value:e.timeFrame,label:"Time frame",onChange:t=>e.setTimeFrame(t.target.value),children:[Object(w.jsx)(B.a,{value:30,children:"30 days"}),Object(w.jsx)(B.a,{value:7,children:"7 days"}),Object(w.jsx)(B.a,{value:1,children:"1 day"})]})]})}),Object(w.jsx)(c.a,{sx:ga.contentWrapper,children:e.data&&e.data.map(((t,a)=>{return Object(w.jsxs)(l.a,{sx:ga.analyticsCardSyles,elevation:3,children:[Object(w.jsxs)(c.a,{sx:{display:"flex",marginBottom:"4%"},children:[Object(w.jsx)(ve.a,{sx:{color:"primary.main",width:"36px",height:"36px",marginRight:"2%"}}),Object(w.jsx)(d.a,{variant:"h5",children:(n=t.workingUnitId,e.workingUnitList.find((e=>e.id===n)).unitName)})]}),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(d.a,{variant:"subtitle2",children:"Total number of bookings:"}),Object(w.jsx)(d.a,{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"h3",children:t.numOfTotalSchedules})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Fulfilled/canceled:"}),Object(w.jsx)(d.a,{sx:ga.dataTypographyStyles,variant:"h5",children:(t.numOfSchedules?t.numOfSchedules:0)+"/"+(t.numOfCanceledSchedules?t.numOfCanceledSchedules:0)})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Average number of bookings:"}),Object(w.jsx)(d.a,{sx:ga.dataTypographyStyles,variant:"h5",children:t.avgDailyReservation})]}),Object(w.jsxs)(c.a,{sx:{display:"flex"},children:[Object(w.jsx)(d.a,{sx:{paddingTop:"2.5%"},variant:"subtitle2",children:"Available/Not available parkings:"}),Object(w.jsx)(d.a,{sx:ga.dataTypographyStyles,variant:"h5",children:(t.numOfEnableParkings?t.numOfEnableParkings:0)+"/"+(t.numOfDisableParkings?t.numOfDisableParkings:0)})]})]},a);var n}))})]});const fa={pageHeadingAnalyticsIcon:{fontSize:"48px",color:"white"},headWrapperBox:{display:"flex",flexWrap:"wrap"}};var ya=()=>{const e=Object(O.g)().location.state.detail,[t,a]=Object(n.useState)("general"),[r,s]=Object(n.useState)(30),[i,o]=Object(n.useState)(null);Object(n.useEffect)((()=>{l(t,r).then((e=>{o(e),console.log(e)}))}),[t,r]);const l=(e,t)=>{switch(e){case"general":return async function(e){try{const t={dateLength:e},a=await S.post("/admin/anaylitic/schedules",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);case"office":return async function(e){try{const t={dateLength:e},a=await S.post("/admin/anaylitic/offices",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);case"desk":return async function(e){try{const t={dateLength:e},a=await S.post("/admin/anaylitic/desks",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);case"parking":return async function(e){try{const t={dateLength:e},a=await S.post("/admin/anaylitic/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING USER",t)}}(t);default:console.log("Error happened in request process")}};return Object(w.jsxs)(c.a,{children:[Object(w.jsxs)(c.a,{sx:fa.headWrapperBox,children:[Object(w.jsx)(c.a,{sx:{minWidth:270},children:Object(w.jsx)(Me,{avatar:Object(w.jsx)(fe.a,{sx:fa.pageHeadingAnalyticsIcon}),title:"Analytics",subtitle:"View analytical data."})}),Object(w.jsx)(c.a,{sx:{width:200,marginTop:"1%"},children:Object(w.jsxs)(R.a,{fullWidth:!0,children:[Object(w.jsx)(ta.a,{id:"categories-select-label",children:"Categories"}),Object(w.jsxs)(I.a,{labelId:"categories-select-label",id:"categories-select",value:t,label:"Categories",onChange:e=>{a(e.target.value)},children:[Object(w.jsx)(B.a,{value:"general",children:"General analytics"}),Object(w.jsx)(B.a,{value:"office",children:"Office analytics"}),Object(w.jsx)(B.a,{value:"desk",children:"Desk analytics"}),Object(w.jsx)(B.a,{value:"parking",children:"Parking analytics"})]})]})})]}),Object(w.jsx)(c.a,{sx:fa.contentWrapper,children:((t,a)=>{switch(t){case"general":return Object(w.jsx)(na,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});case"office":return Object(w.jsx)(ha,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});case"desk":return Object(w.jsx)(ba,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});case"parking":return Object(w.jsx)(Oa,{workingUnitList:e||[],data:a||[],setTimeFrame:e=>s(e),timeFrame:r});default:console.log("Error in the request process")}})(t,i)})]})};a(701);async function va(e){try{const t=await S.get(`/booking/parking/${e}`),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("GET PARKINGS ERROR",t)}}async function Sa(e){try{const t={parkingName:e},a=await S.post("/booking/parking/schedules",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("GET PARKING SCHEDULE ERROR",t)}}const wa={pageHeadingBox:{display:"flex",flexWrap:"wrap"},pageHeadingAvatar:{bgcolor:"primary.main",width:72,height:72},pageHeadingBoxTitle:{color:"primary.main",fontWeight:"600"},pageHeadingBoxSubtitle:{},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24},imageOffice:{display:"block",margin:"auto",maxWidth:"100vh",maxHeight:"95vh",overflow:"auto",padding:"10px"},iconWrapperBox:{paddingLeft:"30px","&:hover":{filter:"brightness(0.7)"}},iconOffice:{width:72,height:72,objectFit:"contain",cursor:"pointer",paddingTop:"25%"}};var ka=e=>{const[t,a]=n.useState(!1),[r,s]=n.useState(null),i=e=>s(e),l=e.map.split(",");return Object(w.jsxs)(Be.a,{children:[Object(w.jsxs)(Be.a,{sx:wa.pageHeadingBox,children:[Object(w.jsx)(Pe.a,{sx:wa.pageHeadingAvatar,variant:"rounded",children:e.avatar}),Object(w.jsxs)(Be.a,{sx:{marginLeft:"1%"},children:[Object(w.jsx)(d.a,{variant:"h4",sx:wa.pageHeadingBoxTitle,children:e.title}),Object(w.jsx)(d.a,{variant:"subtitle1",sx:wa.pageHeadingBoxSubtitle,children:e.subtitle})]}),e.map&&l.map((e=>Object(w.jsx)(Be.a,{sx:wa.iconWrapperBox,onClick:()=>{i(e),a(!0)},children:Object(w.jsx)("img",{style:wa.iconOffice,src:"http://localhost:8080/images/map_glass.png",alt:"office map icon"})})))]}),e.map&&Object(w.jsx)(Ke.a,{"aria-labelledby":"modal-modal-title","aria-describedby":"modal-description",open:t,onClose:()=>{a(!1),i(null)},closeAfterTransition:!0,BackdropComponent:Xe.a,BackdropProps:{timeout:500},children:Object(w.jsx)(o.a,{in:t,children:Object(w.jsx)(Be.a,{sx:wa.modal,children:Object(w.jsx)("img",{style:wa.imageOffice,src:r,alt:"office map"})})})})]})};const Ca={pageHeadingOfficeIcon:{fontSize:"48px",color:"white"},selectWrapper:{minWidth:"150px",width:"100%",marginTop:"20px",display:"flex",flexWrap:"wrap"},contentWrapper:{marginTop:"2%"},calendarWrapper:{paddingLeft:"2%",paddingRight:"2%",paddingBottom:"2%",paddingTop:"1%",height:"75%"},iconStyle:{height:"32px",width:"32px"}};var Ta=()=>{const e=Object(O.g)().location.state.detail,t=Object(Bt.b)(Ze.a),[a,r]=Object(n.useState)(-1),[s,i]=Object(n.useState)(null),[o,p]=Object(n.useState)(null),[j,x]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,b]=Object(n.useState)(null),[g,f]=Object(n.useState)(null),[y,v]=Object(n.useState)(null),{user:k}=ke(),[C,T]=Object(n.useState)(null),[W,E]=Object(n.useState)(null),{city:D,office:R}=Object(O.h)(),I=Boolean(j),A=I?"event-popover":void 0,N=Boolean(m),P=N?"create-popover":void 0,L=Boolean(u),M=L?"add-desk-popover":void 0;Object(n.useEffect)((()=>{va(e.unitName).then((e=>{console.log(e),i(e)})).catch((e=>{console.log(e)}))}),[]);const z=e=>{const t=[];return e.map((e=>{let a={id:e.id,title:`${e.user.firstName} ${e.user.lastName}`,start:Ze()(e.dateFrom).toDate(),end:Ze()(e.dateTo).toDate(),resource:{userID:e.user.id,user:e.user,desk:e.desk}};t.push(a)})),t},Z=e=>{(async function(e){let t={id:e};try{const e=await S.post("/booking/parking/disable",t),{data:a}=e;return Promise.resolve(a)}catch(a){console.log("PARKING DELETE ERROR",a)}})(e).then((e=>{Sa(s.find((e=>e.id===a)).name).then((e=>{p(z(e))}))}))},U=()=>{T(null)},F=e=>{e.parkingName=e.deskName,delete e.deskName,async function(e){try{const t=await S.post("/booking/parking/reservation",e),{data:a}=t;return Promise.resolve(a)}catch(t){console.log("PARKING RESERVATION ERROR",t)}}(e).then((e=>{Sa(s.find((e=>e.id===a)).name).then((e=>{p(z(e))}))}))},H=t=>{(async function(e,t,a){try{const n={name:`${e}`,workingUnit:t,available:a},r=await S.post("/admin/add/parking",n),{data:s}=r;return Promise.resolve(s)}catch(n){console.log("ERROR ADDING PARKING",n)}})(t,e,!0).then((t=>{va(e.unitName).then((e=>i(e)))}))},G=t=>{t?async function(e){try{const t={name:`${e}`},a=await S.post("/admin/disable/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR DISABLING DESK",t)}}(W.name).then((t=>{va(e.unitName).then((e=>{i(e),r(-1),console.log(e)}))})):async function(e){try{const t={name:`${e}`},a=await S.post("/admin/activate/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR ENABLING PARKING",t)}}(W.name).then((t=>{va(e.unitName).then((e=>i(e)))}))},Y=t=>{(async function(e){try{const t={name:`${e}`},a=await S.post("/admin/remove/parking",t),{data:n}=a;return Promise.resolve(n)}catch(t){console.log("ERROR REMOVING PARKING",t)}})(t).then((t=>{va(e.unitName).then((e=>i(e)))}))};return Object(n.useEffect)((()=>{va(e.unitName).then((e=>{i(e),r(-1)})).catch((e=>{console.log(e)}))}),[e]),Object(w.jsxs)(c.a,{children:[Object(w.jsx)(ka,{avatar:Object(w.jsx)($e.a,{sx:Ca.pageHeadingOfficeIcon}),title:e.unitName,subtitle:e.unitAddress,map:e.parkingMap}),Object(w.jsx)(c.a,{sx:Ca.selectWrapper,children:s&&Object(w.jsxs)(w.Fragment,{children:[s.map((e=>Object(w.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(w.jsx)(Dt,{selectedDeskId:a,handleSelect:(e,t)=>((e,t)=>{e&&(r(t),Sa(s.find((e=>e.id===t)).name).then((e=>{p(z(e)),console.log(e),console.log(z(e)+"eeeeee")})))})(e,t),desk:e,icon:Object(w.jsx)(ve.a,{sx:Ca.iconStyle})}),k.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsx)(nt.a,{sx:{color:"success.main","&:hover":{filter:"brightness(0.9)"},marginLeft:"30%"},size:"small",onClick:t=>((e,t)=>{E(t),T(e.currentTarget)})(t,e)})]},e.name))),Object(w.jsx)(c.a,{sx:{display:"flex",flexDirection:"column",marginTop:"4%",marginLeft:"1%"},children:k.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(ie.a,{id:"menu-settings",anchorEl:C,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(C),onClose:U,children:[W&&(W.available?Object(w.jsx)(B.a,{onClick:()=>{G(W.available),U()},children:"Disable"}):Object(w.jsx)(B.a,{onClick:()=>{G(W.available),U()},children:"Enable"})),Object(w.jsx)(B.a,{onClick:()=>{Y(W.name),U()},children:"Remove"})]}),k.roles.find((e=>2===e.id||3===e.id))&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Kt.a,{onClick:e=>(e=>{b(e.currentTarget)})(e),sx:{color:"success.main",marginTop:"3%","&:hover":{filter:"brightness(0.9)"}},size:"small"}),Object(w.jsx)(Vt,{deskPopoverID:M,openDeskPopover:L,anchorDeskPopover:u,handleAddDeskClose:()=>{b(null)},handleEventAddDesk:e=>H(e)})]})]})})]})}),Object(w.jsxs)(c.a,{sx:Ca.contentWrapper,children:[-1===a&&Object(w.jsx)(d.a,{variant:"h4",sx:{color:"primary.main",fontWeight:"bold"},children:"Select a parking space!"}),-1!==a&&Object(w.jsxs)(l.a,{sx:Ca.calendarWrapper,children:[Object(w.jsx)(c.a,{sx:{display:"flex",justifyContent:"end"},children:Object(w.jsxs)(bt.a,{onClick:e=>(e=>{h(e.currentTarget)})(e),"aria-describedby":P,variant:"extended",size:"medium",color:"primary","aria-label":"add",children:[Object(w.jsx)(It.a,{sx:{mr:1}}),"BOOKING"]})}),Object(w.jsx)(Bt.a,{events:o||[],showMultiDayTimes:!0,defaultView:"week",views:["week"],localizer:t,onSelectEvent:(e,t)=>((e,t)=>{v(e),f(e.resource.userID),x(t.currentTarget)})(e,t),eventPropGetter:e=>e.resource.userID===k.id?e.end>new Date?{ariaDescribedby:{eventPopoverID:A},className:"user-event",style:{backgroundColor:"#21DA6C",border:"none"}}:{ariaDescribedby:{eventPopoverID:A},className:"user-event-past",style:{backgroundColor:"#21DA6C",border:"none",filter:"brightness(0.8)"}}:{ariaDescribedby:{eventPopoverID:A},className:"current-user-event",style:{backgroundColor:"#279cce",border:"none"}}})]}),Object(w.jsx)(zt,{event:y,selectedEventEndDate:y?y.end:new Date,eventUserID:g,currentUserID:k.id,currentUserRoles:k.roles,eventPopoverID:A,openEventPopover:I,anchorEventPopover:j,handleEventClose:()=>{x(null)},handleEventDelete:e=>Z(e)}),Object(w.jsx)(Yt,{currentUserUsername:k.username,selectedDesk:s?s.find((e=>e.id===a)):null,currentUserID:k.id,currentUserName:`${k.firstName} ${k.lastName}`,allEvents:o,handleSetNewEvent:e=>F(e),createPopoverID:P,openCreatePopover:N,anchorCreatePopover:m,handleCreateClose:()=>{h(null)}})]})]})};const Wa=Object(W.a)({palette:{background:{default:"#D2D7D9",paper:"white"},primary:{main:"#279cce",contrastText:"#fff",backgroudColor:"rgb(242, 245, 249)"},secondary:{main:"#384ED5",contrastText:"#fff"},error:{main:"#FF5026",contrastText:"#fff"},warning:{main:"#FFC226",contrastText:"#fff"},success:{main:"#21DA6C",contrastText:"#fff"}},typography:{fontFamily:"'Lato', sans-serif"}});var Ea=function(){const[e,t]=Object(n.useState)(null);return Object(n.useEffect)((()=>{const e=sessionStorage.getItem("token");t(e)}),[e]),Object(w.jsx)(E.a,{theme:Wa,children:Object(w.jsx)(T.a,{children:e?Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(Ie,{contentComponents:Object(w.jsxs)(O.d,{children:[Object(w.jsx)(O.b,{exact:!0,path:"/",component:Je}),Object(w.jsx)(O.b,{exact:!0,path:"/booking/:city",component:jt}),Object(w.jsx)(O.b,{exact:!0,path:"/users",component:yt}),Object(w.jsx)(O.b,{exact:!0,path:"/profile",component:Wt}),Object(w.jsx)(O.b,{exact:!0,path:"/analytics",component:ya}),Object(w.jsx)(O.b,{exact:!0,path:"/booking/:city/:office",component:Qt}),Object(w.jsx)(O.b,{exact:!0,path:"/parking/:city",component:Ta}),Object(w.jsx)(O.a,{to:"/"})]}),logOut:()=>{sessionStorage.removeItem("refresh_token"),sessionStorage.removeItem("token"),t(void 0)}})}):Object(w.jsx)("div",{className:"non-auth-background",children:Object(w.jsxs)(O.d,{children:[Object(w.jsx)(O.b,{path:"/reset",children:Object(w.jsx)(ea,{})}),Object(w.jsx)(O.b,{path:"/login",children:Object(w.jsx)(C,{logIn:e=>{t(e)}})}),Object(w.jsx)(O.b,{path:"/register",children:Object(w.jsx)(Z,{})}),Object(w.jsx)(O.a,{to:"/login"})]})})})})};i.a.render(Object(w.jsx)(Ea,{}),document.getElementById("root"))}},[[702,1,2]]]);
//# sourceMappingURL=main.8eef1e7c.chunk.js.map